[
    {
        "id": "0b36c1ec0297137e",
        "type": "tab",
        "label": "Hall Entrada",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f96f0bccbcf4f98f",
        "type": "tab",
        "label": "Cozinha",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f66a9ff05b26f737",
        "type": "tab",
        "label": "Quarto",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c4aec609.544728",
        "type": "server",
        "name": "Home Assistant",
        "addon": true
    },
    {
        "id": "5ba972b66653817e",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "dark"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "true",
            "lockMenu": "false",
            "allowTempTheme": "none",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 73,
                "sy": 75,
                "gx": 4,
                "gy": 4,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "3261f743d9a9db90",
        "type": "ui_tab",
        "name": "Hall Entrada",
        "icon": "room",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5c61d4e0dc1356ad",
        "type": "ui_group",
        "name": "Info_Date_Sun",
        "tab": "3261f743d9a9db90",
        "order": 3,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e2d240dd8c358b23",
        "type": "ui_group",
        "name": "Info_Tomorrow",
        "tab": "3261f743d9a9db90",
        "order": 4,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1be512265a34379b",
        "type": "ui_group",
        "name": "Lights",
        "tab": "3261f743d9a9db90",
        "order": 6,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0517f4006acbd81e",
        "type": "ui_group",
        "name": "Cortina",
        "tab": "3261f743d9a9db90",
        "order": 7,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c754b8c27cebcd77",
        "type": "knx-controller",
        "name": "knx",
        "host": "192.168.38.63",
        "port": "3671",
        "mode": "routing/multicast"
    },
    {
        "id": "2f3b706d83b2eb05",
        "type": "knx-controller",
        "name": "IPROUTER",
        "host": "192.168.38.63",
        "port": "3671",
        "mode": "tunnel/unicast"
    },
    {
        "id": "818848a85d2a3d51",
        "type": "mqtt-broker",
        "name": "",
        "broker": "broker.hivemq.com",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "100104f917a49a5f",
        "type": "ui_spacer",
        "z": "0b36c1ec0297137e",
        "name": "spacer",
        "group": "013c081c74bfc1b1",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "6f9e6ad1617cd3d3",
        "type": "ui_spacer",
        "z": "0b36c1ec0297137e",
        "name": "spacer",
        "group": "013c081c74bfc1b1",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "91a95d80cfc3a342",
        "type": "ui_spacer",
        "z": "0b36c1ec0297137e",
        "name": "spacer",
        "group": "013c081c74bfc1b1",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "b42413877ab49c07",
        "type": "ui_group",
        "name": "Heating",
        "tab": "3261f743d9a9db90",
        "order": 8,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "cf8fe7716d31944d",
        "type": "knxEasy-config",
        "host": "192.168.38.63",
        "port": "3671"
    },
    {
        "id": "3b86817f1ee7762d",
        "type": "knxUltimate-config",
        "host": "224.0.23.12",
        "port": "3671",
        "physAddr": "15.15.22",
        "hostProtocol": "Multicast",
        "suppressACKRequest": false,
        "csv": "\"KNX tutorial 1 Group Addresses \"\t\"0/-/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\" lighting\"\t\"0/0/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"Lamp A\"\t\"0/0/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"Lamp B\"\t\"0/0/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"Lamp C\"\t\"0/0/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"Lamp D\"\t\"0/0/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"heating\"\t\"0/1/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"06_Heating\"\t\"0/1/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"05_Heating\"\t\"0/1/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"SummerWinter\"\t\"0/1/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"HeatReq\"\t\"0/1/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"shutter\"\t\"0/2/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"4_shutter_ON\"\t\"0/2/0\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"4_shutter_OFF\"\t\"0/2/1\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"FanCoil\"\t\"0/3/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"heatStatus\"\t\"0/3/0\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"heatingCooling\"\t\"0/3/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"CoolerStatus\"\t\"0/3/2\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"fanStep\"\t\"0/3/3\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"stopStart\"\t\"0/3/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"fanOff\"\t\"0/3/5\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"fanStep1\"\t\"0/3/6\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"fanStep2\"\t\"0/3/7\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"fanStep3\"\t\"0/3/8\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"",
        "KNXEthInterface": "Auto",
        "KNXEthInterfaceManuallyInput": "",
        "stopETSImportIfNoDatapoint": "stop",
        "loglevel": "error",
        "name": "KNX Gateway",
        "localEchoInTunneling": true,
        "delaybetweentelegrams": "50",
        "delaybetweentelegramsfurtherdelayREAD": "1",
        "ignoreTelegramsWithRepeatedFlag": false,
        "autoReconnect": "yes"
    },
    {
        "id": "14f79825348d12d4",
        "type": "knxUltimate-config",
        "host": "192.168.38.63",
        "port": "3671",
        "physAddr": "15.15.22",
        "hostProtocol": "TunnelUDP",
        "suppressACKRequest": false,
        "csv": "\"floor\"\t\"0/-/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"Lighting\"\t\"0/0/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"L1HallDimming\"\t\"0/0/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L2HallDimming\"\t\"0/0/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L3RoomDimming\"\t\"0/0/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L4KitchenDimming\"\t\"0/0/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L1HallSwitch\"\t\"0/0/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L2Hallswitch\"\t\"0/0/6\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L3RoomSwitch\"\t\"0/0/7\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L4KitchenSwitch\"\t\"0/0/8\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L1HallDimmingButton\"\t\"0/0/9\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L2HallDimmingButton\"\t\"0/0/10\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L3RoomDimmingButton\"\t\"0/0/11\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L4KitchenDimmingButton\"\t\"0/0/12\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L4feedbackDimming\"\t\"0/0/13\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L4feedbackSwitch\"\t\"0/0/14\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L3feedbackDimming\"\t\"0/0/15\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L2feedbackDimming\"\t\"0/0/16\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L1feedbackDimming\"\t\"0/0/17\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L3feedbackSwitch\"\t\"0/0/18\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L2feedbackSwitch\"\t\"0/0/19\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L1feedbackSwitch\"\t\"0/0/20\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"RollerShutter\"\t\"0/1/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"hallrollerShutter\"\t\"0/1/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"rollerManual\"\t\"0/1/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"feedbackpercentage\"\t\"0/1/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"stop\"\t\"0/1/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"LuxControl\"\t\"0/1/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"StatusLuxControl\"\t\"0/1/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"HEating\"\t\"0/2/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"dateTime\"\t\"0/2/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-10-1\"\t\"Auto\"\n\"reportInternalTempRoom\"\t\"0/2/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetPointAdjInput\"\t\"0/2/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetPointAdjOutput\"\t\"0/2/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"setModeOutput\"\t\"0/2/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"OpenValve6Room\"\t\"0/2/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"setModeInputRoom\"\t\"0/2/6\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"status\"\t\"0/2/7\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"OpenValve6RoomFeedBack\"\t\"0/2/8\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"OpenValve5Hall\"\t\"0/2/9\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"OpenValve5HallFeedBack\"\t\"0/2/10\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"Heat/FrostProtection\"\t\"0/2/11\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"SetModeInputHall\"\t\"0/2/12\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"FanCoil\"\t\"0/3/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"autoManual\"\t\"0/3/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"cooling/Heating\"\t\"0/3/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"ExternalTemp\"\t\"0/3/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"FanSpeedReport\"\t\"0/3/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"FanSpeedManual\"\t\"0/3/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"PushButtonCozinha\"\t\"0/4/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"Co2Switch\"\t\"0/4/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"Co2SwitchReport\"\t\"0/4/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"Holiday0Working1Day\"\t\"0/4/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"InternalTemp\"\t\"0/4/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HolidayWorkingDayReport\"\t\"0/4/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"HallVariables\"\t\"0/5/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"HallInternalTemp\"\t\"0/5/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetpointTemperatureOutput\"\t\"0/5/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetpointTemperatureInput\"\t\"0/5/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"StatusHeatingHall\"\t\"0/5/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n",
        "KNXEthInterface": "Auto",
        "KNXEthInterfaceManuallyInput": "",
        "stopETSImportIfNoDatapoint": "skip",
        "loglevel": "error",
        "name": "KNX Gateway",
        "localEchoInTunneling": true,
        "delaybetweentelegrams": "50",
        "delaybetweentelegramsfurtherdelayREAD": "1",
        "ignoreTelegramsWithRepeatedFlag": false,
        "autoReconnect": "yes"
    },
    {
        "id": "1b0ec1028d217713",
        "type": "ui_tab",
        "name": "Cozinha",
        "icon": "kitchen",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "474f6e416bdc6570",
        "type": "ui_group",
        "name": "Fan",
        "tab": "1b0ec1028d217713",
        "order": 3,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8eabb55ca92b6973",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "bb2f69e6ce647ee8",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "025d8a60eea84df2",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 6,
        "width": 1,
        "height": 1
    },
    {
        "id": "381325138a13c311",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "ad7f41cdbd527b01",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 10,
        "width": 1,
        "height": 1
    },
    {
        "id": "f1648781cf80d60d",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 12,
        "width": 1,
        "height": 1
    },
    {
        "id": "3fbbf8768766f666",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "ce1ce2d0db8afccf",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 16,
        "width": 1,
        "height": 1
    },
    {
        "id": "5ee315b24faff8a1",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 18,
        "width": 1,
        "height": 1
    },
    {
        "id": "5d7bf37cb21682e7",
        "type": "ui_spacer",
        "z": "0b36c1ec0297137e",
        "d": true,
        "name": "spacer",
        "group": "1be512265a34379b",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "d01ed0e343803aa1",
        "type": "ui_group",
        "name": "Lights",
        "tab": "1b0ec1028d217713",
        "order": 1,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f549ed5a5afba470",
        "type": "ui_tab",
        "name": "Quarto",
        "icon": "local_hotel",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "34bfbb627c1b0a89",
        "type": "ui_group",
        "name": "Lights",
        "tab": "f549ed5a5afba470",
        "order": 1,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "149cdb7c03acd1c5",
        "type": "ui_group",
        "name": "Heating",
        "tab": "f549ed5a5afba470",
        "order": 2,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "362475dd0f52b75c",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "34bfbb627c1b0a89",
        "order": 2,
        "width": "1",
        "height": "1"
    },
    {
        "id": "5efe485b255adbfb",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "34bfbb627c1b0a89",
        "order": 4,
        "width": "1",
        "height": "1"
    },
    {
        "id": "df985aa71cd57263",
        "type": "ui_spacer",
        "z": "f96f0bccbcf4f98f",
        "d": true,
        "name": "spacer",
        "group": "34bfbb627c1b0a89",
        "order": 6,
        "width": "1",
        "height": "1"
    },
    {
        "id": "607c45c49f9cab42",
        "type": "ui_group",
        "name": "CO2",
        "tab": "1b0ec1028d217713",
        "order": 2,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e2fdfde82a0b10db",
        "type": "ui_group",
        "name": "SmartVoiceControl",
        "tab": "3261f743d9a9db90",
        "order": 2,
        "disp": false,
        "width": "2",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6efcb0ceb29e1dd2",
        "type": "ui_group",
        "name": "Time",
        "tab": "3261f743d9a9db90",
        "order": 1,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7d94b19999a2c31c",
        "type": "ui_group",
        "name": "InternalTemp",
        "tab": "3261f743d9a9db90",
        "order": 5,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "17aca18ff1fd7dd0",
        "type": "ui_spacer",
        "z": "0b36c1ec0297137e",
        "d": true,
        "name": "spacer",
        "group": "6efcb0ceb29e1dd2",
        "order": 6,
        "width": "2",
        "height": "2"
    },
    {
        "id": "f3e6055d952b1b70",
        "type": "ui_group",
        "name": "RoomInternalTemp",
        "tab": "f549ed5a5afba470",
        "order": 3,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a9266a50dee402ea",
        "type": "ui_group",
        "name": "InternalTemp",
        "tab": "1b0ec1028d217713",
        "order": 4,
        "disp": false,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "feac04752e89a11b",
        "type": "knxUltimate-config",
        "host": "224.0.23.12",
        "port": "3671",
        "physAddr": "15.15.22",
        "hostProtocol": "Multicast",
        "suppressACKRequest": false,
        "csv": "\"floor\"\t\"0/-/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"Lighting\"\t\"0/0/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"L1HallDimming\"\t\"0/0/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L2HallDimming\"\t\"0/0/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L3RoomDimming\"\t\"0/0/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L4KitchenDimming\"\t\"0/0/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L1HallSwitch\"\t\"0/0/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L2Hallswitch\"\t\"0/0/6\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L3RoomSwitch\"\t\"0/0/7\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L4KitchenSwitch\"\t\"0/0/8\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L1HallDimmingButton\"\t\"0/0/9\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L2HallDimmingButton\"\t\"0/0/10\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L3RoomDimmingButton\"\t\"0/0/11\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L4KitchenDimmingButton\"\t\"0/0/12\"\t\"\"\t\"\"\t\"\"\t\"DPST-3-7\"\t\"Auto\"\n\"L4feedbackDimming\"\t\"0/0/13\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L4feedbackSwitch\"\t\"0/0/14\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L3feedbackDimming\"\t\"0/0/15\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L2feedbackDimming\"\t\"0/0/16\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L1feedbackDimming\"\t\"0/0/17\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"L3feedbackSwitch\"\t\"0/0/18\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L2feedbackSwitch\"\t\"0/0/19\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"L1feedbackSwitch\"\t\"0/0/20\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"RollerShutter\"\t\"0/1/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"hallrollerShutter\"\t\"0/1/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"rollerManual\"\t\"0/1/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"feedbackpercentage\"\t\"0/1/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"stop\"\t\"0/1/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"LuxControl\"\t\"0/1/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"StatusLuxControl\"\t\"0/1/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"HEating\"\t\"0/2/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"dateTime\"\t\"0/2/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-10-1\"\t\"Auto\"\n\"reportInternalTempRoom\"\t\"0/2/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetPointAdjInput\"\t\"0/2/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetPointAdjOutput\"\t\"0/2/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"setModeOutput\"\t\"0/2/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"OpenValve6Room\"\t\"0/2/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"setModeInputRoom\"\t\"0/2/6\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"status\"\t\"0/2/7\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"OpenValve6RoomFeedBack\"\t\"0/2/8\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"OpenValve5Hall\"\t\"0/2/9\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"OpenValve5HallFeedBack\"\t\"0/2/10\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-2\"\t\"Auto\"\n\"Heat/FrostProtection\"\t\"0/2/11\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"SetModeInputHall\"\t\"0/2/12\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n\"FanCoil\"\t\"0/3/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"autoManual\"\t\"0/3/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"cooling/Heating\"\t\"0/3/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"ExternalTemp\"\t\"0/3/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"FanSpeedReport\"\t\"0/3/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"FanSpeedManual\"\t\"0/3/5\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-1\"\t\"Auto\"\n\"PushButtonCozinha\"\t\"0/4/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"Co2Switch\"\t\"0/4/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"Co2SwitchReport\"\t\"0/4/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"Holiday0Working1Day\"\t\"0/4/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"InternalTemp\"\t\"0/4/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HolidayWorkingDayReport\"\t\"0/4/4\"\t\"\"\t\"\"\t\"\"\t\"DPST-1-1\"\t\"Auto\"\n\"HallVariables\"\t\"0/5/-\"\t\"\"\t\"\"\t\"\"\t\"\"\t\"Auto\"\n\"HallInternalTemp\"\t\"0/5/0\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetpointTemperatureOutput\"\t\"0/5/1\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"HallSetpointTemperatureInput\"\t\"0/5/2\"\t\"\"\t\"\"\t\"\"\t\"DPST-9-1\"\t\"Auto\"\n\"StatusHeatingHall\"\t\"0/5/3\"\t\"\"\t\"\"\t\"\"\t\"DPST-5-5\"\t\"Auto\"\n",
        "KNXEthInterface": "Auto",
        "KNXEthInterfaceManuallyInput": "",
        "stopETSImportIfNoDatapoint": "stop",
        "loglevel": "error",
        "name": "KNX Gateway",
        "localEchoInTunneling": true,
        "delaybetweentelegrams": "50",
        "delaybetweentelegramsfurtherdelayREAD": "1",
        "ignoreTelegramsWithRepeatedFlag": false,
        "autoReconnect": "yes"
    },
    {
        "id": "4221482731d602eb",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 100,
        "wires": [
            [
                "d5e337297da7b598",
                "629d5eaa2bad21af",
                "7e73dba87a4ec326"
            ]
        ]
    },
    {
        "id": "7e73dba87a4ec326",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/forecast?units=metric&lat=41.79805167790594&lon=-6.76962604106327&appid=d68cf9678f8ba2881c82716b4be4ab71",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 350,
        "y": 100,
        "wires": [
            [
                "ef4fcfdf02c3de97"
            ]
        ]
    },
    {
        "id": "551e722c26767588",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 490,
        "y": 60,
        "wires": [
            [
                "03f8bf1ed521f399",
                "c984ac950aeb3384"
            ]
        ]
    },
    {
        "id": "03f8bf1ed521f399",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 1",
        "func": "var temp = Math.round(msg.payload.main.temp);\nvar hum = msg.payload.main.humidity;\n\nconst diasSemana = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira',\n    'Quinta-feira', 'Sexta-feira', 'Sábado'];\n\nconst dataHoje = new Date(msg.payload.dt * 1000);\nconst sunrise = new Date(msg.payload.sys.sunrise * 1000);\nconst sunset = new Date(msg.payload.sys.sunset * 1000);\n\n\nconst year = dataHoje.getFullYear();\nconst month = dataHoje.getMonth() + 1;\nconst day = dataHoje.getDate();\n\nconst weekNumber = dataHoje.getDay();\nconst diaDaSemana = diasSemana[weekNumber];\n\nconst sunriseStr = `${sunrise.getHours()}:${sunrise.getMinutes().toString().padStart(2, '0')}`;\nconst sunsetStr = `${sunset.getHours()}:${sunset.getMinutes().toString().padStart(2, '0')}`;\nconst updated = `${dataHoje.getHours()}:${dataHoje.getMinutes().toString().padStart(2, '0')}`;\n\nconst data = `${day}-${month}-${year}`;\n\nconst tomorrow = `${day}-${month}-${year}`;\nglobal.set(\"tomorrow\",tomorrow);\nglobal.set(\"icon\", msg.payload.weather[0].icon)\n\nmsg.payload = {\n    temp,\n    hum,\n    \"icon\": msg.payload.weather[0].icon,\n    \"dataHoje\": data,\n    \"week\": diaDaSemana,\n    \"sunrise\": sunriseStr,\n    \"sunset\": sunsetStr,\n    \"wind\": msg.payload.wind.speed,\n    \"next3hours\": global.get(\"next3hours\"),\n    \"rainProb\": global.get(\"rainProb\"), \n    \"updated\":updated,\n    \"desc_weather\": global.get(\"weatherStr\")\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 60,
        "wires": [
            [
                "b2aa74e53d72d55a",
                "4433860fa0ed68e2"
            ]
        ]
    },
    {
        "id": "532d61010b40fb28",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 2",
        "func": "var newArray = [];\nfor (let i = 0; i <= 3; i++) {\n    var m = {\n        hour: (msg.payload.list[i].dt_txt.split(\" \")[1]).slice(0, 5),\n        temp: Math.round(msg.payload.list[i].main.temp),\n        icon: msg.payload.list[i].weather[0].icon,\n\n    }\n    newArray.push(m);\n}\n\nglobal.set(\"next3hours\", newArray);\nmsg.payload = newArray;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "d5e337297da7b598",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/1040200.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 350,
        "y": 140,
        "wires": [
            [
                "f77dedadd95a4e4e"
            ]
        ]
    },
    {
        "id": "f77dedadd95a4e4e",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 490,
        "y": 140,
        "wires": [
            [
                "d0284057c5829fa3"
            ]
        ]
    },
    {
        "id": "d0284057c5829fa3",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 3",
        "func": "var rainProb = msg.payload.data[0].precipitaProb ? msg.payload.data[0].precipitaProb : \"0\";\n\nglobal.set(\"rainProb\", rainProb);\nflow.set(\"idWeather\", msg.payload.data[1].idWeatherType)\nflow.set(\"idWind\", msg.payload.data[1].classWindSpeed);\n\nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 140,
        "wires": [
            [
                "49f8e402eb123acc",
                "3afd2be6d291ffc6",
                "cbd28bea51f0eb8a"
            ]
        ]
    },
    {
        "id": "b2aa74e53d72d55a",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "5c61d4e0dc1356ad",
        "name": "Tempo Atual",
        "order": 1,
        "width": "5",
        "height": "3",
        "format": "\n<div style=\"margin:0;padding:0;align-items:center;color:black; \">\n    <div id=\"view\" class=\"container\" style=\"background-color:#a8dadc;border:2px solid grey;border-radius: 5px;\">\n        <!--<h4 class=\"display-3\" style=\"margin:5px 0;color:black; font-size:25px;padding:0px 5px;text-align:center;\">\n            {{msg.payload.week+\", \"+msg.payload.dataHoje}}</h4>-->\n        <div class=\"d-flex\" style=\"flex:1,flex-direction:row;padding-top:5px\">\n            <div>\n                <!--\n                <i class=\"material-icons\">home</i>\n            \n                <i class=\"fas fa-moon fa-2x\" style=\"color: yellow;\"></i>-->\n                <img width=\"65\" height=\"65\" src=\"https://openweathermap.org/img/wn/{{msg.payload.icon}}.png\" alt=\"weather icon\">\n\n            </div>\n            <div style=\" background-color:#a8dadc;color:black;padding-top:2px;\">\n                <p class=\"display-3\"\n                    style=\"font-weight:bold; color:black;padding-top:5px; font-size:40px;padding:0 5px;\">\n                    {{msg.payload.temp}}ºC</p>\n            </div>\n            <div style=\"display:flex;color:black;flex:1;justify-content:center;align-items:center;\">\n                <p style=\"font-size:18px; padding-left:10px;text-align:center \">{{msg.payload.desc_weather}}</p>\n            </div>\n        </div>\n        <div class=\"d-flex\"\n            style=\"flex:1;color:black;justify-content:flex-start;align-items:center;margin:5px 0px;  flex:1,flex-direction:row;flex-wrap:wrap;\">\n            <div style=\"padding:0 0px;flex:0.2;align-items:center;flex-direction:row;display:flex;\">\n                <i class=\"material-icons\" style=\"padding-right:2px;font-size: 18px;\">waves</i>\n                <p style=\"font-size: 14px;\">{{msg.payload.hum}}%</p>\n            </div>\n            <div style=\"padding:0 2px;flex:0.2;align-items:center;flex-direction:row;display:flex;\">\n                <i class=\"material-icons\" style=\"padding-right:2px;font-size: 18px;\">opacity</i>\n                <p style=\"font-size: 14px;\">{{msg.payload.rainProb}}%</p>\n            </div>\n            <div style=\"flex:0.2;padding:0 2px;align-items:center;flex-direction:row; display:flex;\">\n                <i class=\"material-icons\"  style=\"font-size: 18px;padding-right:2px;\">air</i>\n                <p style=\"font-size: 14px;\"> {{msg.payload.wind}}km</p>\n            </div>\n\n            <div style=\"flex:0.2;padding:0 2px;align-items:center;flex-direction:row;display:flex;\">\n                <p style=\"font-weight:bold;font-size: 12px;padding-right:2px;\"> sunrise:</p>\n                <p style=\"font-size: 14px;\"> {{msg.payload.sunrise}}h</p>\n            </div>\n            <div style=\"flex:0.2;padding:0 2px;align-items:center;flex-direction:row;display:flex;\">\n                <p style=\"font-weight:bold;font-size:12px;padding-right:2px;\">sunset: </p>\n                <p style=\"font-size: 14px;\">{{msg.payload.sunset}}h</p>\n            </div>\n\n        </div>\n        <div style=\"color:black;border:1px solid white;font-size:10px; padding-bottom:3px;\">\n          <span>powered by OpenWeather - Atualizado às {{msg.payload.updated}} de\n        {{msg.payload.dataHoje}}</span>\n        </div>\n    \n        <div class=\"d-flex justify-content-between\" style=\"color:black;margin:5px 0px; \">\n            <div class=\"row\" style=\"flex:1;\">\n                <div class=\"col\" ng-repeat=\"item in msg.payload.next3hours\">\n                    <div style=\"text-align:center;font-size:14px;\">{{ item.hour }}h</div>\n                    <div style=\"text-align:center;\"><img width=\"50\" height=\"50\" src=\"https://openweathermap.org/img/wn/{{item.icon}}.png\" alt=\"weather icon\">\n                    </div>\n                    <div style=\"text-align:center;font-size:15px;\">{{ item.temp }}ºC</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 830,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "ef4fcfdf02c3de97",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 490,
        "y": 100,
        "wires": [
            [
                "532d61010b40fb28"
            ]
        ]
    },
    {
        "id": "629d5eaa2bad21af",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/weather?lat=41.79805167790594&lon=-6.76962604106327&units=metric&appid=64b67989a1a0516b74e03920fb269669",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 350,
        "y": 60,
        "wires": [
            [
                "551e722c26767588"
            ]
        ]
    },
    {
        "id": "85413015fe87a05c",
        "type": "ui_switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "Lamp Switcher 1 ",
        "tooltip": "",
        "group": "1be512265a34379b",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 590,
        "y": 1880,
        "wires": [
            [
                "b555fef36901e8f7"
            ]
        ]
    },
    {
        "id": "79f1347a0efd8853",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 4",
        "func": "var idWeather = msg.payload.data[1].idWeatherType;\nglobal.set(\"idWeather\", msg.payload.data[1].idWeatherType);\nflow.set(\"idPrec\", msg.payload.data[1].classPrecInt);\nvar obj = {\n    idWeather,\n    \"tmin\":msg.payload.data[1].tMin,\n    \"tmax\": msg.payload.data[1].tMax,\n    \"precipitaProb\":msg.payload.data[1].precipitaProb, \n    \"dataUpdate\":msg.payload.dataUpdate\n}; \n\nflow.set(\"obj\", obj )\nmsg.payload = obj; \nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 280,
        "wires": [
            [
                "20cd36595f6c4c44"
            ]
        ]
    },
    {
        "id": "655535c1e30f61f3",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "e2d240dd8c358b23",
        "name": "Próximos dias",
        "order": 1,
        "width": "5",
        "height": "4",
        "format": "<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\">\n<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\"></script>\n\n<div style=\"background-color:#fefae0;color:black;  margin:0;padding:0 20px; height:auto; \">\n    <!--<p style=\"font-size:25px;\">Para os próximos dias</p>-->\n    <div style=\"padding:5px;margin-bottom:5px\"> \n        <p style=\"font-weight:bold; color:black;font-size:20px;\">Amanhã, {{msg.payload.tomorrow}}</p>\n    </div>\n\n    <div style=\"padding: 0 10px;flex-direction:row;flex:1;display:flex;\">\n        <div style=\"align-items:center; padding:0 10px;padding-top:5px;\">\n     <img src=\"http://192.168.195.193:8080/icons2/w_ic_d_{{msg.payload.idWeather}}anim\"  width=\"55\" height=\"55\" alt=\"Icon\"/>\n\n        \n<!--<img src=\"http://192.168.1.67:8080/icons2/w_ic_d_{{msg.payload.idWeather}}anim\"  width=\"65\" height=\"65\" alt=\"Icon\"/>-->\n        </div>\n        <div style=\"display:flex;height:60px; flex-direction:column;background-color:#faedcd; padding:0px 5px;margin-top:5px\">\n            <p style=\"font-size:13px;\">tmax: <span style=\"font-size:17px;\">{{msg.payload.tmax}} ºC</span></p>\n            <p style=\"font-size:10px\">tmin: <span style=\"font-size:13px;\">{{msg.payload.tmin}} ºC</span></p>\n        </div>\n        <div style=\"padding-left: 20px;display:flex; flex:1.5; flex-wrap:wrap;\">\n        \n            <p style=\"font-size: 15px;\">\n                {{ msg.payload.rainDescStr === \"---\" ? 'Probabilidade de chuva: ' + msg.payload.precipitaProb + '%' : 'Prevê-se\n                chuva do tipo ' + msg.payload.rainDescStr + ' (' + msg.payload.precipitaProb + '%)' }}\n            </p>\n        \n            <p style=\"font-size:15px;\"> {{msg.payload.windStr === \"---\" ? 'Sem vento' : 'Vento '+ msg.payload.windStr}}\n        \n        </div>\n    \n            \n    </div>\n\n    <div style=\"padding:10px;\">\n        <p style=\"font-weight:bold; color:black;font-size:17px;\">Previsão: {{msg.payload.weatherStr}}</p>\n    </div>\n\n         <div class=\"d-flex justify-content-between\" style=\"padding-bottom:10px;\">\n            <div class=\"row\" style=\"flex:1;\">\n                <div class=\"col\" ng-repeat=\"item in msg.payload.next3days\">\n\n                    <div style=\"text-align:center; font-size:13px; \">{{item.date}}</div>\n        \n                 <div style=\"text-align:center;\"><img src=\"http://192.168.195.193:8080/icons2/w_ic_d_{{item.idWeatherType}}anim\"  width=\"40\" height=\"40\" alt=\"Icon\"/>\n                </div>\n    <!--       \n           \n             <div style=\"text-align:center;\">\n               <img src=\"http://192.168.1.67:8080/icons2/w_ic_d_{{item.idWeatherType}}anim\"  width=\"40\" height=\"40\" alt=\"Icon\"/>\n        \n            </div>-->\n                <div style=\"text-align:center;font-size:13px;\">{{ item.tmax }}<span style=\"padding-left:2px;font-size:9px;\">{{ item.tmin}}</span></div>\n                </div>\n            </div>\n        </div>\n\n\n        <p style=\"font-size:7px;\">powered by IPMA - <span style=\"font-size:10px;\">Atualizado às: {{msg.payload.dataUpdate}}</span></p>\n </div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1240,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "20cd36595f6c4c44",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "query",
        "url": "https://api.ipma.pt/open-data/precipitation-classe.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 750,
        "y": 280,
        "wires": [
            [
                "09b436840a4064c5"
            ]
        ]
    },
    {
        "id": "09b436840a4064c5",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 910,
        "y": 280,
        "wires": [
            [
                "24a05ba4f2a08408"
            ]
        ]
    },
    {
        "id": "24a05ba4f2a08408",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 5",
        "func": "\nvar rainDescStr = flow.get(\"idPrec\") > 0 ? msg.payload.data[flow.get(\"idPrec\") + 1].descClassPrecIntPT : msg.payload.data[0].descClassPrecIntPT; \n\nvar obj = {\n    ...flow.get(\"obj\"),\n    \"rainDescStr\": rainDescStr,\n    \"windStr\": global.get(\"windStr\"),\n    \"weatherStr\":global.get(\"weatherStr\"),\n    \"next3days\":flow.get(\"next3days\"),\n    \"tomorrow\": flow.get(\"tomorrow\")\n}\n\n\nmsg.payload = obj; \nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 280,
        "wires": [
            [
                "655535c1e30f61f3"
            ]
        ]
    },
    {
        "id": "49f8e402eb123acc",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "query",
        "url": "https://api.ipma.pt/open-data/wind-speed-daily-classe.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 790,
        "y": 140,
        "wires": [
            [
                "40b5e22d1aa17240"
            ]
        ]
    },
    {
        "id": "3afd2be6d291ffc6",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "query",
        "url": "https://api.ipma.pt/open-data/weather-type-classe.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 790,
        "y": 180,
        "wires": [
            [
                "42f9e087864aca66"
            ]
        ]
    },
    {
        "id": "7809b20d20cdb175",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 6",
        "func": "var idWind = flow.get(\"idWind\");\n\nvar windDescStr = msg.payload.data[idWind].descClassWindSpeedDailyPT;\nglobal.set(\"windStr\", windDescStr);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "5a69629a32b1636e",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 7",
        "func": "var idWeather = flow.get(\"idWeather\");\n\nvar weatherDescStr = msg.payload.data[idWeather+1].descWeatherTypePT;\nglobal.set(\"weatherStr\", weatherDescStr);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "40b5e22d1aa17240",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 140,
        "wires": [
            [
                "7809b20d20cdb175",
                "b7fc1100a4a628f0"
            ]
        ]
    },
    {
        "id": "42f9e087864aca66",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 930,
        "y": 180,
        "wires": [
            [
                "5a69629a32b1636e"
            ]
        ]
    },
    {
        "id": "6f16623097d48666",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/1040200.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 290,
        "y": 280,
        "wires": [
            [
                "3289dc7425a6ef16"
            ]
        ]
    },
    {
        "id": "3289dc7425a6ef16",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 430,
        "y": 280,
        "wires": [
            [
                "79f1347a0efd8853",
                "281562427dc6ba22",
                "50401f6826e1f4b9"
            ]
        ]
    },
    {
        "id": "6980ad41abda57ef",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 280,
        "wires": [
            [
                "6f16623097d48666"
            ]
        ]
    },
    {
        "id": "281562427dc6ba22",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 8",
        "func": "var newArray = [];\nfor (let i = 2; i <= 4; i++) {\n    var m = {\n        \"idWeatherType\":msg.payload.data[i].idWeatherType,\n        \"date\":msg.payload.data[i].forecastDate,\n        \"rain\":msg.payload.data[i].precipitaProb,\n        \"tmax\":msg.payload.data[i].tMax,\n        \"tmin\":msg.payload.data[i].tMin,\n        \"idWind\":msg.payload.data[i].classWindSpeed,\n    }\n    newArray.push(m);\n}\n\nflow.set(\"next3days\", newArray);\nflow.set(\"tomorrow\", msg.payload.data[1].forecastDate)\nmsg.payload = newArray;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b555fef36901e8f7",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/5",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Switch ",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 790,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "9649b4ccccd9ec76",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "1be512265a34379b",
        "name": "Dimming Lamp 1",
        "order": 5,
        "width": 5,
        "height": 1,
        "format": "<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \">\n    <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n    <input style=\"flex:0.7;\" type=\"range\" value=\"msg.payload\" ng-model=\"msg.payload\"  class=\"my-slider\" min=\"0\" max=\"100\" step=\"5\" ng-change=\"send(msg)\">\n    <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n        {{msg.payload}}%</p>\n</div>\n<!--\n    \n<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \" >\n    <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n    <input style=\"flex:0.7;\" type=\"range\" ng-init=\"msg.payload=0\" class=\"my-slider\" min=\"0\" max=\"100\" step=\"1\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n    <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">{{msg.payload}}%</p>\n</div>\n\n    <div ng-controller=\"SliderController\">\n    <div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \" >\n        <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n        <input style=\"flex:0.7;\" type=\"range\" class=\"my-slider\" min=\"0\" max=\"100\" step=\"1\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n        <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">{{msg.payload}}%</p>\n    </div>\n</div>\n-->",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 590,
        "y": 1940,
        "wires": [
            [
                "43cb7e5760085102"
            ]
        ]
    },
    {
        "id": "43cb7e5760085102",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/1",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Dimming",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 780,
        "y": 1940,
        "wires": [
            []
        ]
    },
    {
        "id": "3dfd7f31ff8ecbe5",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/20",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Lamp 1 feedback Switch",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 150,
        "y": 1840,
        "wires": [
            [
                "265f1e05e5a1da32"
            ]
        ]
    },
    {
        "id": "43f3241b85215dc6",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/17",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 370,
        "y": 1940,
        "wires": [
            [
                "9649b4ccccd9ec76"
            ]
        ]
    },
    {
        "id": "265f1e05e5a1da32",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 1880,
        "wires": [
            [
                "85413015fe87a05c"
            ]
        ]
    },
    {
        "id": "c51cbb6cecada2a3",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/3/6",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "FanStepReport",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 280,
        "y": 4320,
        "wires": [
            [
                "dc2142e24bda9329"
            ]
        ]
    },
    {
        "id": "dc2142e24bda9329",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "FanStepReport%",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 4320,
        "wires": []
    },
    {
        "id": "65705eabca74ee9f",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/3/0",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ManualAutoMode0Auto1Forced",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 490,
        "y": 4140,
        "wires": [
            [
                "27f72fdf01a311b9"
            ]
        ]
    },
    {
        "id": "c5f8ce5d262cb888",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "Auto0",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 180,
        "y": 4140,
        "wires": [
            [
                "65705eabca74ee9f"
            ]
        ]
    },
    {
        "id": "e237f803ac792ec5",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "ManualForced1",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 220,
        "y": 4180,
        "wires": [
            [
                "65705eabca74ee9f"
            ]
        ]
    },
    {
        "id": "940ce73723f1eecb",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "FanForced%80Step3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "80",
        "payloadType": "num",
        "x": 270,
        "y": 4260,
        "wires": [
            [
                "6bfb578c35951979"
            ]
        ]
    },
    {
        "id": "27f72fdf01a311b9",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "ManualAutoMode0Auto1Forced",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 4140,
        "wires": []
    },
    {
        "id": "b315223fa0f2a7d0",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "1be512265a34379b",
        "name": "Title Iluminação",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\">\n<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\"></script>\n\n<div style=\"padding:7px;background-color:#Ace299; color:black;\">\n        <h2>Iluminação</h2>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 500,
        "y": 1780,
        "wires": [
            [
                "120b78feac5d9ad2"
            ]
        ]
    },
    {
        "id": "120b78feac5d9ad2",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 30",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 1780,
        "wires": []
    },
    {
        "id": "0a623a7971700ff6",
        "type": "ui_switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "Lamp Switcher 2",
        "tooltip": "",
        "group": "1be512265a34379b",
        "order": 7,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 590,
        "y": 2000,
        "wires": [
            [
                "13077a805706a65b"
            ]
        ]
    },
    {
        "id": "13077a805706a65b",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/6",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Switch ",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 790,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "a7caf98b22348c89",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "1be512265a34379b",
        "name": "Dimming Lamp 2",
        "order": 9,
        "width": 5,
        "height": 1,
        "format": "<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \">\n    <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n    <input style=\"flex:0.7;\" type=\"range\" value=\"msg.payload\" ng-model=\"msg.payload\"  class=\"my-slider\" min=\"0\" max=\"100\" step=\"5\" ng-change=\"send(msg)\">\n    <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n        {{msg.payload}}%</p>\n</div>\n<!--\n    \n<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \" >\n    <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n    <input style=\"flex:0.7;\" type=\"range\" ng-init=\"msg.payload=0\" class=\"my-slider\" min=\"0\" max=\"100\" step=\"1\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n    <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">{{msg.payload}}%</p>\n</div>\n\n    <div ng-controller=\"SliderController\">\n    <div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \" >\n        <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n        <input style=\"flex:0.7;\" type=\"range\" class=\"my-slider\" min=\"0\" max=\"100\" step=\"1\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n        <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">{{msg.payload}}%</p>\n    </div>\n</div>\n-->",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 390,
        "y": 2080,
        "wires": [
            [
                "b20493be34537468"
            ]
        ]
    },
    {
        "id": "b20493be34537468",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/2",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Dimming",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 580,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "3df21d586c5ac80f",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/19",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 210,
        "y": 2000,
        "wires": [
            [
                "00ed7a8f73a01321"
            ]
        ]
    },
    {
        "id": "67757ac948a40686",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/16",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 210,
        "y": 2080,
        "wires": [
            [
                "a7caf98b22348c89"
            ]
        ]
    },
    {
        "id": "00ed7a8f73a01321",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 2000,
        "wires": [
            [
                "0a623a7971700ff6"
            ]
        ]
    },
    {
        "id": "6bfb578c35951979",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/3/5",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ForcedFan%ManualMode",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 610,
        "y": 4240,
        "wires": [
            []
        ]
    },
    {
        "id": "3c8f9b6bce47c9c4",
        "type": "mqtt in",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Desk/LDR",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 220,
        "y": 820,
        "wires": [
            [
                "4e60e6d65950c5fe"
            ]
        ]
    },
    {
        "id": "4e60e6d65950c5fe",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Get Lux",
        "func": "var lux = msg.payload.ldr_lux;\nglobal.set(\"lux\", lux);\nmsg.payload = lux;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 820,
        "wires": [
            [
                "b1a95c7542c61d5e",
                "05adca5e0ef3fb36",
                "e7556390a4ee1ad1",
                "b3544447e808c53a"
            ]
        ]
    },
    {
        "id": "b1a95c7542c61d5e",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 44",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 900,
        "wires": []
    },
    {
        "id": "05adca5e0ef3fb36",
        "type": "mqtt out",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/Lux",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 800,
        "y": 780,
        "wires": []
    },
    {
        "id": "b3544447e808c53a",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "global Cortina Pos",
        "func": "var lux = msg.payload; \nif(lux>100 && lux<=1000){\n    global.set(\"shutterPos\", 10); \n}else if(lux<=100){\n    global.set(\"shutterPos\", 0); \n}else{\n    global.set(\"shutterPos\", 5); \n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "435bcb7a1056a767",
        "type": "ui_switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "Controlar níveis de luminosidade",
        "tooltip": "",
        "group": "0517f4006acbd81e",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 540,
        "y": 1080,
        "wires": [
            [
                "4fd4670479320412",
                "595c0fcb371d8a65"
            ]
        ]
    },
    {
        "id": "4fd4670479320412",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Switch in Lux mode",
        "func": "global.set(\"switch_lux\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 1220,
        "wires": [
            [
                "42a5526f2638c77b"
            ]
        ]
    },
    {
        "id": "f08f6eca0e475856",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/1/4",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "StatusLuxControl",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 180,
        "y": 1020,
        "wires": [
            [
                "deae91547f249431"
            ]
        ]
    },
    {
        "id": "deae91547f249431",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 260,
        "y": 1080,
        "wires": [
            [
                "435bcb7a1056a767"
            ]
        ]
    },
    {
        "id": "595c0fcb371d8a65",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/1/4",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "LuxControl",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 820,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "42a5526f2638c77b",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "switch_lux",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 170,
        "y": 1380,
        "wires": [
            [
                "4e97d3afe5b7a840"
            ]
        ]
    },
    {
        "id": "ced481f297ed5325",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/1/2",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ReportStateShutter",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 870,
        "y": 1200,
        "wires": [
            [
                "fb6990cc9fdd8f5b",
                "0d2f4fbbf2b16dcd"
            ]
        ]
    },
    {
        "id": "0d2f4fbbf2b16dcd",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "0517f4006acbd81e",
        "name": "Shutter_slider",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .my-slider-container {\n        background-color: red;\n        /* Substitua a cor desejada aqui */\n        padding: 15px;\n        color: black;\n        margin:0px; \n    }\n\n    .my-slider {\n        background-color: inherit;\n        width:100%;\n    }\n</style>\n\n<div>\n    <!--\n    <div class=\"container\" >\n        <div class=\"row \" style=\"padding: 25px 30px 25px 30px;color:black;background-color:#424242;\">\n            <div class=\"col\">\n                <ul class=\"list-group\" style=\"padding:0;margin:0;font-size:16px\">\n                  <li class=\"list-group-item\" style=\"padding:0;margin:0;font-size:16px;padding:3px;\">\n                        <b>Temperatura interna: </b>{{ msg.payload.temp_int}}{{'ºC'}}\n                    </li>\n                    <li class=\"list-group-item\" style=\"padding:0;margin:0;font-size:16px;padding:3px;\">\n                        <b>Humidade interna: </b>{{ msg.payload.hum_int}}{{'%'}}\n                    </li>\n                    <li class=\"list-group-item\" style=\"padding:0;margin:0;font-size:16px;padding:3px;\">\n                        <b>Sensor Luz interno: </b>{{ msg.payload.lux}}{{'lux'}}\n                    </li>\n                </ul>\n            </div>\n        </div>\n      \n    </div>\n    -->\n      <div class=\"my-slider-container\" style=\"background-color:#bbdefb;margin:5px;\">\n            <p style=\"font-size:16px;font-weight:bold;\">Abrir Cortina </p>\n            <input type=\"range\" ng-init=\"msg.payload=0\" value=\"msg.payload\" class=\"my-slider\" value=\"msg.payload\" min=\"0\" max=\"10\" step=\"5\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n            <h1 style=\"font-size:16px;text-align:center;\">\n                {{(msg.payload == 0 ? '0%' : (msg.payload == 5 ? '50%' :\n                (msg.payload == 10 ? '100%' : '50%')))}} de abertura\n            </h1>\n\n        </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1080,
        "y": 1320,
        "wires": [
            [
                "a502b7508eb83080",
                "91691dbd1c8f2376",
                "e2c80e3fc7314e70"
            ]
        ]
    },
    {
        "id": "91691dbd1c8f2376",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/1/0",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 1300,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "d2f5ad46dccfd177",
        "type": "mqtt in",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/Lux",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 1460,
        "wires": [
            [
                "42a5526f2638c77b"
            ]
        ]
    },
    {
        "id": "4e97d3afe5b7a840",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "lux",
        "propertyType": "global",
        "rules": [
            {
                "t": "lte",
                "v": "100",
                "vt": "str"
            },
            {
                "t": "btwn",
                "v": "101",
                "vt": "num",
                "v2": "1000",
                "v2t": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 370,
        "y": 1300,
        "wires": [
            [
                "356d23af6fc35b35"
            ],
            [
                "0dcbd629ef36b391"
            ],
            [
                "6a96166798cda3df"
            ]
        ]
    },
    {
        "id": "356d23af6fc35b35",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1260,
        "wires": [
            [
                "8e36fe42f7b8ec9f"
            ]
        ]
    },
    {
        "id": "0dcbd629ef36b391",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "10",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1300,
        "wires": [
            [
                "8e36fe42f7b8ec9f"
            ]
        ]
    },
    {
        "id": "6a96166798cda3df",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "5",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1340,
        "wires": [
            [
                "8e36fe42f7b8ec9f"
            ]
        ]
    },
    {
        "id": "a502b7508eb83080",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 46",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 1220,
        "wires": []
    },
    {
        "id": "fb6990cc9fdd8f5b",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 47",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 1120,
        "wires": []
    },
    {
        "id": "d47792dbf281aaac",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "0517f4006acbd81e",
        "name": "CortinaTitleTab",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "\n    <div style=\"padding:7px; background-color:#90caf9; color:black; \">\n        <h2>Cortina\n             <span class=\"badge badge-success\">\n                {{msg.payload.actual_PosShutter == 0 ? \"Baixa\" : (msg.payload.actual_PosShutter == 5 ? \"Meia Altura\":\n                (msg.payload.actual_PosShutter == 10 ? \"Alta\": \"Meia Altura\"))}}\n                </span> \n        </h2>\n    </div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1380,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "e2c80e3fc7314e70",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 69",
        "func": "global.set(\"actual_PosShutter\", msg.payload);\n\nmsg.payload = {\n    \"actual_PosShutter\":msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 1380,
        "wires": [
            [
                "d47792dbf281aaac"
            ]
        ]
    },
    {
        "id": "e7556390a4ee1ad1",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "0517f4006acbd81e",
        "name": "LuxSensorDisplay",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div>\n <ul class=\"list-group\" style=\"padding-top:20px;margin:5px 50px;font-size:15px;\">\n        <li class=\"list-group-item\" \n        style=\"font-size:15px;color:black;padding:0;margin:0;font-size:15px; padding:3px;\">\n        <b>Sensor Luz: </b>{{ msg.payload}}{{' lux'}}</li>\n    </ul>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 670,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "b5f8b6da81542f53",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "actual_PosShutter",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "eq",
                "v": "payload",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 750,
        "y": 1400,
        "wires": [
            [
                "0d2f4fbbf2b16dcd",
                "645252ca9ac51aaf"
            ],
            [
                "0d2f4fbbf2b16dcd"
            ]
        ]
    },
    {
        "id": "808c7d017e901a15",
        "type": "api-call-service",
        "z": "0b36c1ec0297137e",
        "name": "Notifications",
        "server": "c4aec609.544728",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_22101316g",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1110,
        "y": 1500,
        "wires": [
            []
        ]
    },
    {
        "id": "31f04c24f556a4c5",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 70",
        "func": "var lux = global.get(\"lux\");\n\nvar msg = {\n    payload: {\n        data: {\n            title: \"Alteração de estado da Cortina\",\n            message: \"Cortina \" + msg.payload+\" (\"+lux+\" lux)\",\n        },\n    },\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 1440,
        "wires": [
            [
                "808c7d017e901a15"
            ]
        ]
    },
    {
        "id": "8e36fe42f7b8ec9f",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 71",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1300,
        "wires": [
            [
                "b5f8b6da81542f53"
            ]
        ]
    },
    {
        "id": "645252ca9ac51aaf",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "10",
                "fromt": "num",
                "to": "Aberta",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "5",
                "fromt": "num",
                "to": "Meia-Altura",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "Fechada",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1440,
        "wires": [
            [
                "31f04c24f556a4c5"
            ]
        ]
    },
    {
        "id": "4433860fa0ed68e2",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "6efcb0ceb29e1dd2",
        "name": "Data e dia da semana",
        "order": 3,
        "width": "2",
        "height": "2",
        "format": "<div style=\"display:flex;justify-content:flex-start; align-items:flex-start;flex-direction:column;padding-top:15px; padding-left:15px;\">\n    <h4 class=\"display-3\" style=\"margin:5px 0;color:white; font-size:25px;padding:5px 0px;\">\n    {{msg.payload.week}}</h4>\n    <h3>\n        {{msg.payload.dataHoje}}\n    </h3>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "cbd28bea51f0eb8a",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 64",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 220,
        "wires": []
    },
    {
        "id": "b7fc1100a4a628f0",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 65",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 220,
        "wires": []
    },
    {
        "id": "d2f22fd6c75efed3",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "86400",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 2240,
        "wires": [
            [
                "d53d6d7d160dc01a",
                "1c16759fb840ddee"
            ]
        ]
    },
    {
        "id": "d53d6d7d160dc01a",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/2/0",
        "outputtopic": "",
        "dpt": "10.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "SetTime",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 350,
        "y": 2240,
        "wires": [
            [
                "964730206a651e9b"
            ]
        ]
    },
    {
        "id": "964730206a651e9b",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "Receber Time ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 2240,
        "wires": []
    },
    {
        "id": "cf9162b630c5d0fc",
        "type": "ui_dropdown",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "Modo de Operação",
        "tooltip": "",
        "place": "Select option",
        "group": "b42413877ab49c07",
        "order": 4,
        "width": "5",
        "height": "1",
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Noite",
                "value": 4,
                "type": "num"
            },
            {
                "label": "StandBy/Day Off",
                "value": 2,
                "type": "num"
            },
            {
                "label": "Comfort",
                "value": 1,
                "type": "num"
            },
            {
                "label": "Desligado",
                "value": 64,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 610,
        "y": 3120,
        "wires": [
            [
                "4e4b3a2be5edf579",
                "55d83db96bf83074"
            ]
        ]
    },
    {
        "id": "6b9981e897868dc0",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 103",
        "func": "/**var statusDecimal = msg.payload; \n\nfunction decimalToBinary(N) {\n    return (N >>> 0).toString(2);\n}\n\nvar statusBinary = decimalToBinary(statusDecimal);\n\nfunction isBitOn(number, index) {\n    return Boolean(number & (1 << index));\n}\n\nlet comfort = isBitOn(statusBinary, 0);\nlet standby = isBitOn(statusBinary, 1);\nlet night = isBitOn(statusBinary, 2);\nlet heating = isBitOn(statusBinary, 5);\nlet off = isBitOn(statusBinary, 6);\n\nvar mode; \nvar bitMode; \nif (comfort) {\n    mode = \"Comforto\";\n    global.set(\"mode\", { mode: \"comfort\", setpoint: 21 });\n    bitMode = 1;  \n} else if (standby) {\n    mode = \"Standby\";\n    global.set(\"mode\", {mode:\"standBy\", setpoint:19});\n    bitMode = 2;\n} else if (night) {\n    mode = \"Noite\";\n    global.set(\"mode\", { mode: \"night\", setpoint: 17 });\n    bitMode = 4;\n} else if (off){\n    mode = \"Desligado\";\n    global.set(\"mode\", { mode: \"desligado\", setpoint: 0 });\n    bitMode = 64;  \n}\n\nvar iconTemp = heating ? \"fa-light fa-temperature-arrow-up\" : \"fa-light fa-temperature-arrow-down\";\n\nvar modeTxt = {\n    \"mode\":mode,\n    \"heating\":global.get(\"heating\"),\n    \"setpointModeDefault\":global.get(\"setpoint\"),\n    iconTemp,\n    bitMode, \n    \"frostHeatStatus\":global.get(\"frostHeatStatus\")\n}\n\nmsg.payload = modeTxt; \nreturn msg; \n\n**/\nvar mode = global.get(\"mode\");\n \nif (global.get(\"user_setTemp\") > mode.setpoint){\n    msg.payload = {\n        \"heating\" : false,\n       \"mode\" : mode.mode,\n       \"setpoint\":mode.setpoint\n    }\n    \n    return msg; \n}else{\n    \n    msg.payload = {\n        \"heating\": true,\n        \"mode\": mode.mode,\n         \"setpoint\":mode.setpoint\n    } \nreturn msg; \n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 3320,
        "wires": [
            [
                "7bc11050049a011b",
                "ec9866bcd2e7b0f5",
                "d49b265a503a8aec"
            ]
        ]
    },
    {
        "id": "42d4a0d8a8cd07cf",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/5/3",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "StatusHeating",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 190,
        "y": 3400,
        "wires": [
            [
                "6b9981e897868dc0"
            ]
        ]
    },
    {
        "id": "44b5288447a901f5",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/2/12",
        "outputtopic": "",
        "dpt": "6.020",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "OperationModeInput",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 1010,
        "y": 3080,
        "wires": [
            []
        ]
    },
    {
        "id": "d023e2e187d89e18",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "d": true,
        "server": "14f79825348d12d4",
        "topic": "0/2/4",
        "outputtopic": "",
        "dpt": "6.020",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "OperationModeOutput",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 300,
        "y": 3080,
        "wires": [
            [
                "6b9981e897868dc0"
            ]
        ]
    },
    {
        "id": "4e4b3a2be5edf579",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 78",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 3180,
        "wires": []
    },
    {
        "id": "2311814ccbb5efe3",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "b42413877ab49c07",
        "name": "TemplateHeating",
        "order": 1,
        "width": "0",
        "height": "0",
        "format": "<link rel=\"stylesheet\" href=\"https://pro.fontawesome.com/releases/v6.0.0-beta3/css/all.css\">\n<script src=\"https://cdn.jsdelivr.net/npm/handlebars/dist/handlebars.min.js\"></script>\n</head>\n\n<div style=\"height:200px; \">\n    <div class=\"card-title\" style=\"padding:7px; background-color:#fcb103; color:black; \">\n        <h2>Aquecimento\n            <!-- <span class=\"badge badge-success\">Aberto</span> -->\n        </h2>\n    </div>\n    <div style=\"padding:3px;margin:5px 50px;font-size:15px;\">\n        \n        <!-- \n        <p style=\"font-size:15px;color:white;padding:0;margin:0;\">\n            <b>Temperatura Atual Interna</b>\n        </p>\n        -->\n        <div style=\"color:white;display:flex;\">\n        <!--    <div style=\"padding:2px;flex:0.3;border-radius:12px; border:1px solid grey;  color:black;font-weight:bold;flex-direction:row; \">\n                <p style=\"font-size:30px; color:white; \">{{msg.payload.temp}}ºC</p>\n            --></div>\n            <div style=\"flex-direction:row; padding-left:20px;justify-content:flex-start;align-items:flex-start; display:flex;\">\n                <p style=\"font-weight:bold;font-size:14px;padding-right:5px;\">Modo</p>\n                <h2>{{msg.payload.mode}}</h2>\n            </div>\n            \n        </div>\n        \n        <div style=\"padding-left:15px; font-size:15px; padding-top:5px;justify-content:center;flex-direction:row;align-items:center; display:flex;\">\n            <p style=\"font-size:20px;padding-right:10px; \">{{msg.payload.heating ? \"Aquecendo\" : \"Sem aquecimento\" }} </p>\n            <i class=\"{{msg.payload.iconTemp}}\" style=\"font-size:25px\"></i>\n        </div>\n        \n         \n          \n    </div>\n\n<!--\n<input style=\"flex:0.7;\" type=\"range\" value=\"msg.payload\" ng-model=\"msg.payload\"  class=\"my-slider\" min=\"0\" max=\"100\" step=\"5\" ng-change=\"send(msg)\">\n<p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n    {{msg.payload}}%</p>\n\n</div>\n-->\n<p style=\"font-size:10px;margin-top:15px; padding-left:5px; display:flex; justify-content:start;align-items:end;\">\n    Protecao contra calor(>35ºC) e frio intenso(<7ºC) {{msg.payload.frostHeatStatus}}\n</p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 790,
        "y": 3320,
        "wires": [
            [
                "c7be651429568cdb",
                "8bc710d6cac1f68f",
                "4bfc790c2ec4d790"
            ]
        ]
    },
    {
        "id": "d49b265a503a8aec",
        "type": "ui_text",
        "z": "0b36c1ec0297137e",
        "group": "b42413877ab49c07",
        "order": 3,
        "width": "2",
        "height": "2",
        "name": "",
        "label": "[Info] Neste modo, por defeito, o ponto alvo é",
        "format": "{{msg.payload.setpoint}}ºC",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 590,
        "y": 3500,
        "wires": []
    },
    {
        "id": "3fda0164aef2bf7d",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/4/4",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ReportWorkingHolidayMode",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 320,
        "y": 3000,
        "wires": [
            [
                "59e3c3dd99a8e783"
            ]
        ]
    },
    {
        "id": "59e3c3dd99a8e783",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "2",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 3000,
        "wires": [
            []
        ]
    },
    {
        "id": "5c5f3d9a9102c5d2",
        "type": "api-call-service",
        "z": "0b36c1ec0297137e",
        "name": "Notifications",
        "server": "c4aec609.544728",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_22101316g",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1210,
        "y": 3360,
        "wires": [
            []
        ]
    },
    {
        "id": "11cef4fd9af3bb88",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 105",
        "func": "\nvar estado = msg.payload.heating ? \"Aquecimento ON \":\"Aquecimento OFF\";\n\nvar msg = {\n    payload: {\n        data: {\n            title: \"[Hall] \"+estado+\"  , Modo \"+msg.payload.mode+\"   \",\n            message: \"Temperatura a \"+msg.payload.InternalTemp+\"ºC, objetivo: \"+msg.payload.setpoint+\"ºC \",\n        },\n    },\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 3360,
        "wires": [
            [
                "5c5f3d9a9102c5d2"
            ]
        ]
    },
    {
        "id": "7bc11050049a011b",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "heatingStatus",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "payload.heating",
                "vt": "msg"
            },
            {
                "t": "neq",
                "v": "payload.heating",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 3380,
        "wires": [
            [
                "2311814ccbb5efe3"
            ],
            [
                "2311814ccbb5efe3",
                "91806318df91de6d"
            ]
        ]
    },
    {
        "id": "c7be651429568cdb",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 106",
        "func": "global.set(\"heatingStatus\", msg.payload.heating);\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 3320,
        "wires": [
            []
        ]
    },
    {
        "id": "91806318df91de6d",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 108",
        "func": "msg.payload = {\n    ...msg.payload,\n    \"InternalTemp\":global.get(\"internalTempRoom\"),\n\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 3420,
        "wires": [
            [
                "11cef4fd9af3bb88"
            ]
        ]
    },
    {
        "id": "8bc710d6cac1f68f",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 80",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 3280,
        "wires": []
    },
    {
        "id": "5e4efb262ba137fe",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/5/0",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "InternalTemp",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 170,
        "y": 2340,
        "wires": [
            [
                "4eed9dc81eb4dd23"
            ]
        ]
    },
    {
        "id": "9c1bbc0779454e3d",
        "type": "ui_gauge",
        "z": "0b36c1ec0297137e",
        "name": "Temperatura Interna",
        "group": "7d94b19999a2c31c",
        "order": 1,
        "width": "2",
        "height": "3",
        "gtype": "donut",
        "title": "Temperatura Interna",
        "label": "",
        "format": "{{value}}ºC",
        "min": 0,
        "max": "40",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "15",
        "seg2": "25",
        "diff": false,
        "className": "",
        "x": 720,
        "y": 2340,
        "wires": []
    },
    {
        "id": "4eed9dc81eb4dd23",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Internal Temp by Controller",
        "func": "global.set(\"internalTempHall\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 2340,
        "wires": [
            [
                "9c1bbc0779454e3d"
            ]
        ]
    },
    {
        "id": "87a1f6744a92a5d9",
        "type": "ui_numeric",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "Ponto de temperatura desejado para o modo atual",
        "tooltip": "",
        "group": "b42413877ab49c07",
        "order": 2,
        "width": "3",
        "height": "2",
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "7",
        "max": "35",
        "step": 1,
        "className": "",
        "x": 950,
        "y": 3720,
        "wires": [
            [
                "3eb5e6487baa5150",
                "77893bebef37c58d",
                "dcd0b35526f52452"
            ]
        ]
    },
    {
        "id": "0313becc4660489d",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/5/1",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "GetSetPointTemperature",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 230,
        "y": 3800,
        "wires": [
            [
                "eb0229d112054495"
            ]
        ]
    },
    {
        "id": "3eb5e6487baa5150",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/5/2",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "SetPointTemperature",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 930,
        "y": 3820,
        "wires": [
            []
        ]
    },
    {
        "id": "fc9462147b9dc89a",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "17",
        "payloadType": "num",
        "x": 150,
        "y": 3660,
        "wires": [
            [
                "eb0229d112054495"
            ]
        ]
    },
    {
        "id": "20743c3e6e61b5af",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "setpoint_inf_limit",
                "vt": "flow",
                "v2": "setpoint_sup_limit",
                "v2t": "flow"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 3720,
        "wires": [
            [
                "0f81eef66ee9cd43"
            ],
            [
                "8c44abc1a090398b"
            ]
        ]
    },
    {
        "id": "8c44abc1a090398b",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 110",
        "func": "var mode = global.get(\"setpoint\"); \nmsg.payload = mode; \nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 3760,
        "wires": [
            [
                "87a1f6744a92a5d9"
            ]
        ]
    },
    {
        "id": "eb0229d112054495",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 111",
        "func": "var mode = global.get(\"mode\");\n\nvar limit_sup = mode.setpoint+3; \nvar limit_inf = mode.setpoint-3; \nvar setpoint = mode.setpoint; \n\nflow.set(\"setpoint_inf_limit\", limit_inf);\nflow.set(\"setpoint_sup_limit\", limit_sup);\nglobal.set(\"setpoint\", setpoint);\n\nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 3680,
        "wires": [
            [
                "20743c3e6e61b5af"
            ]
        ]
    },
    {
        "id": "0f81eef66ee9cd43",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 112",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 3680,
        "wires": [
            [
                "87a1f6744a92a5d9"
            ]
        ]
    },
    {
        "id": "1c16759fb840ddee",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "Frost/Heat Protection",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 380,
        "y": 2160,
        "wires": [
            [
                "186b0a340d49c70d",
                "890dcff236fe226f"
            ]
        ]
    },
    {
        "id": "186b0a340d49c70d",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/2/11",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 640,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "890dcff236fe226f",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 113",
        "func": "\nvar frostHeatStatus = msg.payload == 1 ? \"ligado\":\"desligado <!>\";\nglobal.set(\"frostHeatStatus\", frostHeatStatus);\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 2200,
        "wires": [
            []
        ]
    },
    {
        "id": "c7eeb43103e40341",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "FanForced%80Step3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 400,
        "y": 4460,
        "wires": [
            [
                "2f7459c96ca1d061"
            ]
        ]
    },
    {
        "id": "2f7459c96ca1d061",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/3/1",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ForcedFan%ManualMode",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 730,
        "y": 4460,
        "wires": [
            []
        ]
    },
    {
        "id": "688fe77685006cbe",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/2/9",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "RoomInternalTemp",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 410,
        "y": 4000,
        "wires": [
            []
        ]
    },
    {
        "id": "4921741c692dd0dd",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 140,
        "y": 4000,
        "wires": [
            [
                "688fe77685006cbe"
            ]
        ]
    },
    {
        "id": "50401f6826e1f4b9",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 87",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 200,
        "wires": []
    },
    {
        "id": "c984ac950aeb3384",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 89",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 20,
        "wires": []
    },
    {
        "id": "2580e175ca31efcf",
        "type": "ui_text_input",
        "z": "0b36c1ec0297137e",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "6efcb0ceb29e1dd2",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": true,
        "mode": "time",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "<font size = 16>{{msg.payload}}</font>",
        "topicType": "msg",
        "x": 420,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "6f097d5ab8042380",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 460,
        "wires": [
            [
                "9546eb4a6b20eadb"
            ]
        ]
    },
    {
        "id": "dd1a0ec3284cdf6e",
        "type": "ui_template",
        "z": "0b36c1ec0297137e",
        "group": "6efcb0ceb29e1dd2",
        "name": "greetings",
        "order": 1,
        "width": "3",
        "height": "1",
        "format": "<div style=\"padding-top:15px;padding-left:10px\">\n   <p style=\"font-size:25px; color:white; font-weight:bold;\"> {{msg.payload.greeting}}\n        <span style=\"padding-left:15px;\">\n            <img src=\"http://192.168.195.193:8080/icons2/w_ic_{{msg.payload.day_night}}_{{msg.payload.icon}}anim\"\n            width='45' height='45' alt='Icon'/>\n        </span>\n    </p>   \n \n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 980,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "9546eb4a6b20eadb",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Time",
        "func": "let timestamp = msg.payload; \n\nlet date = new Date(timestamp);\nlet hours = date.getHours().toString().padStart(2, '0');\nlet minutes = date.getMinutes().toString().padStart(2, '0');\nmsg.payload = `${hours}:${minutes}`;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 460,
        "wires": [
            [
                "2580e175ca31efcf",
                "dad87578252c7e5e"
            ]
        ]
    },
    {
        "id": "dad87578252c7e5e",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 115",
        "func": "var hour_payload = msg.payload.substring(0,2);\nmsg.payload = {\n    \"hour_payload\":hour_payload,\n    \"icon\":global.get(\"idWeather\")\n\n    } \nreturn msg;\n// <img src='http://192.168.1.67:8080/icons2/w_ic_d_{{msg.payload.icon}}anim\" width='55' height='55' alt='Icon'/>",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 440,
        "wires": [
            [
                "33f5c09c3cfdd427",
                "87be8bc44601f464"
            ]
        ]
    },
    {
        "id": "33f5c09c3cfdd427",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 91",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 500,
        "wires": []
    },
    {
        "id": "87be8bc44601f464",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload.hour_payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "btwn",
                "v": "6",
                "vt": "num",
                "v2": "11",
                "v2t": "num"
            },
            {
                "t": "btwn",
                "v": "12",
                "vt": "num",
                "v2": "18",
                "v2t": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "09590c0c7a1f7fb1"
            ],
            [
                "41b0cdef7ad81324"
            ],
            [
                "002ed728392004ed"
            ]
        ]
    },
    {
        "id": "09590c0c7a1f7fb1",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "Bom Dia",
        "rules": [
            {
                "t": "set",
                "p": "payload.greeting",
                "pt": "msg",
                "to": "Bom Dia",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.day_night",
                "pt": "msg",
                "to": "d",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 400,
        "wires": [
            [
                "dd1a0ec3284cdf6e"
            ]
        ]
    },
    {
        "id": "41b0cdef7ad81324",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "Boa Tarde",
        "rules": [
            {
                "t": "set",
                "p": "payload.greeting",
                "pt": "msg",
                "to": "Boa Tarde",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.day_night",
                "pt": "msg",
                "to": "d",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 440,
        "wires": [
            [
                "dd1a0ec3284cdf6e"
            ]
        ]
    },
    {
        "id": "002ed728392004ed",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "Boa Noite",
        "rules": [
            {
                "t": "set",
                "p": "payload.greeting",
                "pt": "msg",
                "to": "Boa Noite",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.day_night",
                "pt": "msg",
                "to": "n",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 480,
        "wires": [
            [
                "dd1a0ec3284cdf6e"
            ]
        ]
    },
    {
        "id": "87119dad7c2b52a5",
        "type": "ui_button",
        "z": "0b36c1ec0297137e",
        "name": "Controlo por voz",
        "group": "6efcb0ceb29e1dd2",
        "order": 7,
        "width": "1",
        "height": "2",
        "passthru": true,
        "label": "play",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "audio",
        "payloadType": "flow",
        "topic": "payload",
        "topicType": "msg",
        "x": 200,
        "y": 4720,
        "wires": [
            [
                "508c1fbc3ac6a4c1",
                "ec6a1fa33441ff6e"
            ]
        ]
    },
    {
        "id": "508c1fbc3ac6a4c1",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 95",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 260,
        "y": 4640,
        "wires": []
    },
    {
        "id": "ec6a1fa33441ff6e",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "sensação térmica",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "probabilidade de chuva amanhã",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "temperatura máxima hoje",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "visibilidade hoje",
                "vt": "str"
            },
            {
                "t": "else"
            },
            {
                "t": "eq",
                "v": "ligar lampada 1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 370,
        "y": 4780,
        "wires": [
            [
                "affa746549d120c2"
            ],
            [
                "dc26ecd0fac02803"
            ],
            [
                "60b906ee51f2352a"
            ],
            [
                "882c48d4f6236576"
            ],
            [
                "22ea11ea90a1d407"
            ],
            [
                "3d45b8ac0240ef43"
            ]
        ]
    },
    {
        "id": "dcb67cb8348746a6",
        "type": "ui_audio",
        "z": "0b36c1ec0297137e",
        "name": "",
        "group": "5c61d4e0dc1356ad",
        "voice": "Google português do Brasil",
        "always": false,
        "x": 1340,
        "y": 4760,
        "wires": []
    },
    {
        "id": "22ea11ea90a1d407",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Otherwise",
        "func": "msg.payload = \"Não entendi, pode repetir ?\";\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 4780,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "dc26ecd0fac02803",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/1040200.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 4660,
        "wires": [
            [
                "4135138c19604e93"
            ]
        ]
    },
    {
        "id": "18aac6b9dd21f648",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Probabilidade Chuva Amanhã",
        "func": "var probChuvaAmanha = Number(msg.payload.data[1].precipitaProb);\n\nvar text = \"Probabilidade de chuva amanhã é de \" + probChuvaAmanha + \" %\";\n\nmsg.payload = text;\n\nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 4660,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "affa746549d120c2",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/weather?lat=41.79805167790594&lon=-6.76962604106327&units=metric&appid=64b67989a1a0516b74e03920fb269669",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 4620,
        "wires": [
            [
                "ad2598db94da6eee"
            ]
        ]
    },
    {
        "id": "ab0bd7ee05c66f3d",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Sensação Térmica Atual",
        "func": "var sensacao_termica = Number(msg.payload.main.feels_like);\nvar text = \"Sensação térmica atual é de \"+ sensacao_termica+\" graus\";\nmsg.payload = text; \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 4620,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "ad2598db94da6eee",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 4620,
        "wires": [
            [
                "ab0bd7ee05c66f3d"
            ]
        ]
    },
    {
        "id": "4135138c19604e93",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 4660,
        "wires": [
            [
                "18aac6b9dd21f648"
            ]
        ]
    },
    {
        "id": "60b906ee51f2352a",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/weather?lat=41.79805167790594&lon=-6.76962604106327&units=metric&appid=64b67989a1a0516b74e03920fb269669",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 4700,
        "wires": [
            [
                "0b0c4d05d878c2b4"
            ]
        ]
    },
    {
        "id": "0b0c4d05d878c2b4",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 4700,
        "wires": [
            [
                "e52f1ed81ed94289"
            ]
        ]
    },
    {
        "id": "e52f1ed81ed94289",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Temperatura máxima hoje",
        "func": "var temp_max= Number(msg.payload.main.temp_max);\nvar text = \"Temperatura máxima hoje é \"+ temp_max+\" graus\";\nmsg.payload = text; \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 4700,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "882c48d4f6236576",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/weather?lat=41.79805167790594&lon=-6.76962604106327&units=metric&appid=64b67989a1a0516b74e03920fb269669",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 630,
        "y": 4740,
        "wires": [
            [
                "72433d4cac60141f"
            ]
        ]
    },
    {
        "id": "72433d4cac60141f",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 770,
        "y": 4740,
        "wires": [
            [
                "53c3ccd3102c708b"
            ]
        ]
    },
    {
        "id": "53c3ccd3102c708b",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Nível visibilidade",
        "func": "var visibility = Number(msg.payload.visibility);\nmsg.payload = visibility; \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 4740,
        "wires": [
            [
                "8f46a6239079847c"
            ]
        ]
    },
    {
        "id": "8f46a6239079847c",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "1000",
                "vt": "num"
            },
            {
                "t": "btwn",
                "v": "1000",
                "vt": "num",
                "v2": "4999",
                "v2t": "num"
            },
            {
                "t": "btwn",
                "v": "5000",
                "vt": "num",
                "v2": "9999",
                "v2t": "num"
            },
            {
                "t": "gte",
                "v": "10000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 910,
        "y": 4880,
        "wires": [
            [
                "f966b39870241b23"
            ],
            [
                "0edd04d2835ca03a"
            ],
            [
                "1f3df3843313c1cf"
            ],
            [
                "9e7524cb25316eff"
            ]
        ]
    },
    {
        "id": "f966b39870241b23",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Visibilidade baixa",
        "func": "\nvar text = \"Visibilidade Muito Densa, tome cuidado! \";\nmsg.payload = text;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 4840,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "0edd04d2835ca03a",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Visibilidade moderada",
        "func": "\nvar text = \"Visibilidade a \"+msg.payload+\": Moderada, tome cuidado! \";\nmsg.payload = text;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 4880,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "1f3df3843313c1cf",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Visibiladade Boa",
        "func": "\nvar text = \"Visibilidade Boa! Condições Normais! \";\nmsg.payload = text;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 4920,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "9e7524cb25316eff",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Visibilidade excelente",
        "func": "\nvar text = \"Excelente visibilidade, céu claro! \";\nmsg.payload = text;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 4960,
        "wires": [
            [
                "dcb67cb8348746a6"
            ]
        ]
    },
    {
        "id": "bf44b042715a6f07",
        "type": "ui_microphone",
        "z": "0b36c1ec0297137e",
        "name": "",
        "group": "6efcb0ceb29e1dd2",
        "order": 4,
        "width": "2",
        "height": "1",
        "maxLength": 5,
        "maxRecogLength": "20",
        "timeslice": 0,
        "press": "press",
        "mode": "recog",
        "interimResults": false,
        "x": 210,
        "y": 4900,
        "wires": [
            [
                "7b85281f275def45",
                "442f675cdf9e40aa"
            ]
        ]
    },
    {
        "id": "7b85281f275def45",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "done",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 4920,
        "wires": [
            [
                "4ada4344675144f5"
            ],
            []
        ]
    },
    {
        "id": "442f675cdf9e40aa",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 97",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 4960,
        "wires": []
    },
    {
        "id": "b124dd8089edc473",
        "type": "inject",
        "z": "0b36c1ec0297137e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 620,
        "wires": [
            [
                "bd75f27674cae6e8"
            ]
        ]
    },
    {
        "id": "bd75f27674cae6e8",
        "type": "http request",
        "z": "0b36c1ec0297137e",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.ipma.pt/open-data/observation/meteorology/stations/observations.json",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 350,
        "y": 620,
        "wires": [
            [
                "35a3af2caabfcd42"
            ]
        ]
    },
    {
        "id": "35a3af2caabfcd42",
        "type": "json",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 620,
        "wires": [
            [
                "32cb6a4f1fe1fa35"
            ]
        ]
    },
    {
        "id": "32cb6a4f1fe1fa35",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Filtro Para estação Bragança",
        "func": "var estacao_braganca1 = \"1200575\";\n\nvar keys = Object.keys(msg.payload);\n\nvar len = keys.length; \nvar json_object = {};\n\nkeys.sort(); \nfor(let i = 0; i<len; i++){\n    var key = keys[i];\n    json_object[key] = {\n        \"Braganca\":msg.payload[keys[i]][estacao_braganca1],\n    };\n}\n\nmsg.payload = json_object; \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 620,
        "wires": [
            [
                "dace1db51e4079f0"
            ]
        ]
    },
    {
        "id": "dace1db51e4079f0",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "Agrupar dados humidade",
        "func": "var keys = Object.keys(msg.payload);\nvar val = {};\nvar dataHumidity = [];\nvar aux = [];\nval.labels = keys;\n\nfor(let i = 0; i<keys.length; i++){\n    var key = keys[i];\n    dataHumidity.push(msg.payload[keys[i]][\"Braganca\"].humidade);\n}\n\naux.push(dataHumidity);\nval.series = [];\nval.data = aux;\n\nreturn {payload:[val]};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 620,
        "wires": [
            [
                "0719245002f35b13"
            ]
        ]
    },
    {
        "id": "0719245002f35b13",
        "type": "ui_chart",
        "z": "0b36c1ec0297137e",
        "name": "",
        "group": "7d94b19999a2c31c",
        "order": 2,
        "width": "3",
        "height": "3",
        "label": "Bragança - Humidade últimas 24h",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "step",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 880,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "4ada4344675144f5",
        "type": "ui_text_input",
        "z": "0b36c1ec0297137e",
        "name": "Introduzir texto",
        "label": "",
        "tooltip": "",
        "group": "6efcb0ceb29e1dd2",
        "order": 10,
        "width": "2",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "payload",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 560,
        "y": 4860,
        "wires": [
            [
                "57bfb8a4c5e6d884"
            ]
        ]
    },
    {
        "id": "57bfb8a4c5e6d884",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "audio",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 4920,
        "wires": [
            []
        ]
    },
    {
        "id": "120cac53eb453d32",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/0/1",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "L1HallDimming",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 740,
        "y": 4560,
        "wires": [
            []
        ]
    },
    {
        "id": "3d45b8ac0240ef43",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 4560,
        "wires": [
            [
                "120cac53eb453d32"
            ]
        ]
    },
    {
        "id": "77893bebef37c58d",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 116",
        "func": "global.set(\"user_setTemp\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 3620,
        "wires": [
            []
        ]
    },
    {
        "id": "dcd0b35526f52452",
        "type": "mqtt out",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/userTemp",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 1260,
        "y": 3640,
        "wires": []
    },
    {
        "id": "55d83db96bf83074",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "64",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 770,
        "y": 2880,
        "wires": [
            [
                "a34c31f2434491f6"
            ],
            [
                "3927ff6249258b5e"
            ],
            [
                "48fd3ad49723e321"
            ],
            [
                "07e07b062125b6e2"
            ]
        ]
    },
    {
        "id": "a34c31f2434491f6",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 117",
        "func": "var mode = \"Noite\";\nglobal.set(\"mode\", { mode: \"Noite\", setpoint: 17 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 2720,
        "wires": [
            [
                "6f533257e85c437e"
            ]
        ]
    },
    {
        "id": "3927ff6249258b5e",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 118",
        "func": "var mode = \"Standby\";\nglobal.set(\"mode\", { mode: \"StandBy\", setpoint: 19 });\nreturn \"\"; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 2820,
        "wires": [
            [
                "6f533257e85c437e"
            ]
        ]
    },
    {
        "id": "48fd3ad49723e321",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 119",
        "func": "var mode = \"Comforto\";\nglobal.set(\"mode\", { mode: \"Comforto\", setpoint: 21 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2880,
        "wires": [
            [
                "6f533257e85c437e"
            ]
        ]
    },
    {
        "id": "07e07b062125b6e2",
        "type": "function",
        "z": "0b36c1ec0297137e",
        "name": "function 120",
        "func": "var mode = \"Desligado\";\nglobal.set(\"mode\", { mode: \"Desligado\", setpoint: 0 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 2940,
        "wires": [
            [
                "6f533257e85c437e"
            ]
        ]
    },
    {
        "id": "ec9866bcd2e7b0f5",
        "type": "debug",
        "z": "0b36c1ec0297137e",
        "name": "debug 103",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 3280,
        "wires": []
    },
    {
        "id": "0a5d4d1c8b10b617",
        "type": "mqtt in",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/userTemp",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 220,
        "y": 3300,
        "wires": [
            [
                "6b9981e897868dc0"
            ]
        ]
    },
    {
        "id": "4bfc790c2ec4d790",
        "type": "switch",
        "z": "0b36c1ec0297137e",
        "name": "",
        "property": "payload.heating",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 710,
        "y": 3220,
        "wires": [
            [
                "0b11e47aa29e8b8b"
            ],
            [
                "fb17708517e55bc1"
            ]
        ]
    },
    {
        "id": "bd3815e7379318a6",
        "type": "knxUltimate",
        "z": "0b36c1ec0297137e",
        "server": "14f79825348d12d4",
        "topic": "0/2/9",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "openValve5",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 1170,
        "y": 3220,
        "wires": [
            []
        ]
    },
    {
        "id": "0b11e47aa29e8b8b",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 3220,
        "wires": [
            [
                "bd3815e7379318a6"
            ]
        ]
    },
    {
        "id": "fb17708517e55bc1",
        "type": "change",
        "z": "0b36c1ec0297137e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 3260,
        "wires": [
            [
                "bd3815e7379318a6"
            ]
        ]
    },
    {
        "id": "6f533257e85c437e",
        "type": "mqtt out",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/Mode",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 1200,
        "y": 2780,
        "wires": []
    },
    {
        "id": "9bed4368eef54d7d",
        "type": "mqtt in",
        "z": "0b36c1ec0297137e",
        "name": "",
        "topic": "Hall/Mode",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 200,
        "y": 3340,
        "wires": [
            [
                "6b9981e897868dc0"
            ]
        ]
    },
    {
        "id": "bcbcca261f2e95be",
        "type": "ui_switch",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "label": "Controlar níveis de CO2",
        "tooltip": "",
        "group": "474f6e416bdc6570",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 230,
        "y": 1160,
        "wires": [
            [
                "d9494f1f8965c464",
                "550a66888fd5dbbc"
            ]
        ]
    },
    {
        "id": "12e4e6d568a5851a",
        "type": "mqtt in",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "topic": "IPB/IoT/Lab/AirQuality",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 880,
        "wires": [
            [
                "dcfd158df11f83a9"
            ]
        ]
    },
    {
        "id": "dcfd158df11f83a9",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "function 49",
        "func": "const co2 = msg.payload.co2_eqv;\nglobal.set(\"co2\", co2);\nmsg.payload = co2;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 880,
        "wires": [
            [
                "02e199150b2dd936",
                "c24af0e0e87d4f55"
            ]
        ]
    },
    {
        "id": "02e199150b2dd936",
        "type": "ui_template",
        "z": "f96f0bccbcf4f98f",
        "group": "607c45c49f9cab42",
        "name": "CO2 template",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div class=\"container\"\n    ng-style=\"{'background-color':  (msg.payload < 800) ? 'green' : (msg.payload >= 800 && msg.payload <= 1200) ? 'yellow' : (msg.payload > 1200 && msg.payload < 1800) ? 'orange' : 'red'}\"\n    style=\"padding: 15px 20px 15px 20px;margin-top:15px;\" >\n    <div class=\"row\">\n        <div class=\"col\">\n            <div>\n                <h4 ng-style=\"{'color':(msg.payload >= 800 && msg.payload <= 1200)?'black':'white'}\"\n                    style=\"text-align:center; padding:15px;\">Concentração de CO2</h4>\n            </div>\n            <p ng-style=\"{'color':(msg.payload >= 800 && msg.payload <= 1200)?'black':'white'}\"\n                style=\"text-align:center;font-weight:bold;padding-top:15px; font-size:20px;\">\n                {{(msg.payload < 800) ? 'Fraca' : (msg.payload>= 800 && msg.payload <= 1200) ? 'Regular' : 'Ruim' }}</p>\n                            <p ng-style=\"{'color':(msg.payload >= 800 && msg.payload <= 1200)?'black':'white'}\"\n                                style=\"text-align:center;font-weight:bold;padding-top:25px; font-size:20px;\">\n                                {{msg.payload + ' ppm'}}</p>\n\n        </div>\n    </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 610,
        "y": 880,
        "wires": [
            [
                "64562d37950f5898",
                "977d72dc4cb31fab"
            ]
        ]
    },
    {
        "id": "683ce5b8bc53b83b",
        "type": "switch",
        "z": "f96f0bccbcf4f98f",
        "name": "Se controlo de CO2 está ativo (switch ON)",
        "property": "switch",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 1540,
        "wires": [
            [
                "077f9c75d62c4a8a"
            ]
        ]
    },
    {
        "id": "4933a75db5a8f6e9",
        "type": "ui_template",
        "z": "f96f0bccbcf4f98f",
        "group": "474f6e416bdc6570",
        "name": "switcher FanStep",
        "order": 3,
        "width": 5,
        "height": 1,
        "format": "<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \">\n  <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size:large;display:flex;flex-direction:center; align-items:center;\">wind_power</i>\n  <input style=\"flex:0.7;\" value=\"0\"  type=\"range\" ng-init=\"msg.payload=0\" class=\"my-slider\" min=\"0\" max=\"90\" step=\"30\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n \n        <span style=\"align-items:center; padding-left:5px;display:flex; padding-left:20px;\">Fan Step: {{msg.payload==0 ? \"0\" :(msg.payload==30 ? \"1\" :(msg.payload==60\n        ? \"2\" : (msg.payload==90) ? \"3\" : \"2\" ))}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 590,
        "y": 1420,
        "wires": [
            [
                "466d72a6aa5d1b1b",
                "b2d5f0220534de9c",
                "b5fd26b4c7accdc9"
            ]
        ]
    },
    {
        "id": "b2d5f0220534de9c",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/3/5",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "FanSpeedManual",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 660,
        "y": 1340,
        "wires": [
            [
                "a08646b1a067549f"
            ]
        ]
    },
    {
        "id": "c24af0e0e87d4f55",
        "type": "debug",
        "z": "f96f0bccbcf4f98f",
        "name": "debug 41",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 820,
        "wires": []
    },
    {
        "id": "d9494f1f8965c464",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "function 51",
        "func": "global.set(\"switch\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 1140,
        "wires": [
            [
                "e7ff21897eb19648"
            ]
        ]
    },
    {
        "id": "e7ff21897eb19648",
        "type": "debug",
        "z": "f96f0bccbcf4f98f",
        "name": "debug 42",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 1080,
        "wires": []
    },
    {
        "id": "585cd5523f928270",
        "type": "ui_template",
        "z": "f96f0bccbcf4f98f",
        "group": "474f6e416bdc6570",
        "name": "Template Ventilador",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<div style=\"height:200px; \">\n    <div class=\"card-title\" style=\"padding:5px; background-color:#E09898; color:black; \">\n        <h2>Ventilador\n            <!-- <span class=\"badge badge-success\">Aberto</span> -->\n        </h2>\n    </div>\n    <div style=\"padding:3px;margin:5px 50px;font-size:15px;\">\n\n        <p style=\"font-size:15px;color:white;padding:0;margin:0;\">\n            <b>Fan Speed</b>\n        </p>\n\n        <div style=\"flex-direction:row;flex:1;color:white;display:flex;\">\n            <div\n                style=\"padding:2px;flex:0.3;border-radius:12px;color:black;font-weight:bold;flex-direction:row; \">\n                <p style=\"font-size:30px; color:white; \">{{msg.payload.fan}}%</p>\n            </div>\n            <div\n                style=\"flex:0.7;font-weight:bold;font-size:18px; padding-left:20px;justify-content:center;align-items:center; display:flex;\">\n                <p>{{msg.payload.fan > 0 ? 'Ventilando' : 'Desligado' }}</p>\n            </div>\n\n        </div>\n    </div>\n     <!--   <p  style=\"padding-left:5px; \" >Fan Step: {{msg.payload.fan>=10&&msg.payload.fan<=40 ? \"1\" :(msg.payload.fan>40&&msg.payload.fan<=70 ? \"2\":(msg.payload.fan<10 ? \"0\": \"3\"))}}</p>\n       --><div>\n        <div\n            style=\"flex:0.7;font-size:15px; padding-top:5px;justify-content:flex-start;flex-direction:row;align-items:flex-start; display:flex;\">\n            <p>Temperatura exterior: </p>\n            <p style=\"padding-left:5px;font-weight:bold\">{{msg.payload.temperature}}ºC</p>\n            \n            <p style=\"padding-left:12px;font-size:15px !important\">Humidade exterior: </p>\n            <p style=\"padding-left:5px;font-size:15px !important\">{{msg.payload.humidity}}%</p>\n        </div>\n    </div>\n\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1050,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "211648721805a858",
        "type": "mqtt in",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "topic": "Desk/LDR",
        "qos": "0",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 120,
        "y": 1700,
        "wires": [
            [
                "1fcb484602cb6b8d",
                "0b178ee6be9da644"
            ]
        ]
    },
    {
        "id": "3078648c2577e55d",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/3/3",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "SendExternalTemp",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 470,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "1fcb484602cb6b8d",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "filtrar temperatura",
        "func": "global.set(\"externalTemp\", msg.payload.temperature); \nmsg.payload = msg.payload.temperature;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 1760,
        "wires": [
            [
                "3078648c2577e55d"
            ]
        ]
    },
    {
        "id": "0b178ee6be9da644",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "Temp e Humidade, colocar variaveis globais ",
        "func": "var extTemp = msg.payload.temperature;\nvar extHum  = msg.payload.humidity; \n\nmsg.payload = {\n    \"temperature\":extTemp,\n    \"humidity\":extHum\n}\n\nglobal.set(\"exT\", extTemp);\nglobal.set(\"exH\",extHum);\nreturn msg; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "b5fd26b4c7accdc9",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "obj com variaveis filtradas",
        "func": "global.set(\"actualFan\", msg.payload);\n\nmsg.payload = {\n    \"temperature\": global.get(\"exT\"),\n    \"fan\":msg.payload,\n    \"humidity\":global.get(\"exH\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 1400,
        "wires": [
            [
                "585cd5523f928270"
            ]
        ]
    },
    {
        "id": "9b7b55807dd40794",
        "type": "api-call-service",
        "z": "f96f0bccbcf4f98f",
        "name": "Notificação",
        "server": "c4aec609.544728",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_22101316g",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 950,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "32fe6231667959ee",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "construção notificação",
        "func": "var co2 = global.get(\"co2\");\n\nvar msg = {\n    payload: {\n        data: {\n            title: \"Alteração de estado do Ventilador \",\n            message: \"Ventilador em  \" + msg.payload + \"% devido a concentração de CO2\"+\"(\"+co2+\" ppm)\",\n        },\n    },\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1660,
        "wires": [
            [
                "9b7b55807dd40794"
            ]
        ]
    },
    {
        "id": "64562d37950f5898",
        "type": "mqtt out",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "topic": "SwitchCO2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 860,
        "y": 880,
        "wires": []
    },
    {
        "id": "6a36335d2545475a",
        "type": "mqtt in",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "topic": "SwitchCO2",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 80,
        "y": 1600,
        "wires": [
            [
                "683ce5b8bc53b83b"
            ]
        ]
    },
    {
        "id": "69135df538b4fd7e",
        "type": "switch",
        "z": "f96f0bccbcf4f98f",
        "name": "se valor co2 recebido != valor atual de co2",
        "property": "actualFan",
        "propertyType": "global",
        "rules": [
            {
                "t": "neq",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "eq",
                "v": "payload",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 460,
        "y": 1620,
        "wires": [
            [
                "32fe6231667959ee",
                "f6d1176bb8cb056b"
            ],
            [
                "f6d1176bb8cb056b"
            ]
        ]
    },
    {
        "id": "977d72dc4cb31fab",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "function 59",
        "func": "var co2 = msg.payload; \nif(co2>=800 && co2<=1200){\n    global.set(\"fanSpeed\", 30); \n}else if(co2>=1200){\n    global.set(\"fanSpeed\", 60); \n}else{\n    global.set(\"fanSpeed\", 0); \n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "077f9c75d62c4a8a",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "processar valor de co2",
        "func": "var co2 = global.get(\"co2\");\nif(co2>=800 && co2<=1200){\n    msg.payload = 30; \n}else if(co2>=1200){\n    msg.payload = 60; \n}else{\n    msg.payload = 0; \n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 1540,
        "wires": [
            [
                "69135df538b4fd7e"
            ]
        ]
    },
    {
        "id": "f6d1176bb8cb056b",
        "type": "function",
        "z": "f96f0bccbcf4f98f",
        "name": "Velocidade ventilador",
        "func": "msg.payload = global.get(\"fanSpeed\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 1580,
        "wires": [
            [
                "4933a75db5a8f6e9"
            ]
        ]
    },
    {
        "id": "6f4db3e042335ede",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/4/1",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Co2Report",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 200,
        "y": 1040,
        "wires": [
            [
                "3e3891029272fcf7"
            ]
        ]
    },
    {
        "id": "3e3891029272fcf7",
        "type": "change",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 220,
        "y": 1100,
        "wires": [
            [
                "bcbcca261f2e95be"
            ]
        ]
    },
    {
        "id": "0c2de8430cc87462",
        "type": "ui_switch",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "label": "Lamp Switcher 3",
        "tooltip": "",
        "group": "d01ed0e343803aa1",
        "order": 2,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 530,
        "y": 660,
        "wires": [
            [
                "f2d48b779a724299"
            ]
        ]
    },
    {
        "id": "f2d48b779a724299",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/0/7",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 700,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "b727bcb877a62eb3",
        "type": "ui_template",
        "z": "f96f0bccbcf4f98f",
        "group": "d01ed0e343803aa1",
        "name": "Dimming Lamp 3",
        "order": 3,
        "width": 5,
        "height": 1,
        "format": "<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \">\n  <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n  <input style=\"flex:0.7;\" value=\"0\"  type=\"range\" ng-init=\"msg.payload=0\" class=\"my-slider\" min=\"0\" max=\"100\" step=\"5\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n  <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n    {{msg.payload}}%</p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 370,
        "y": 720,
        "wires": [
            [
                "b06055e9ac76c0e7"
            ]
        ]
    },
    {
        "id": "b06055e9ac76c0e7",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/0/3",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Dimming",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 580,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "14bbf6468b70d559",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/0/18",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 170,
        "y": 660,
        "wires": [
            [
                "7ee6c3ef06950aaf"
            ]
        ]
    },
    {
        "id": "7ee6c3ef06950aaf",
        "type": "change",
        "z": "f96f0bccbcf4f98f",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 660,
        "wires": [
            [
                "0c2de8430cc87462"
            ]
        ]
    },
    {
        "id": "ada213ba0394c710",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/0/15",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 170,
        "y": 720,
        "wires": [
            [
                "b727bcb877a62eb3"
            ]
        ]
    },
    {
        "id": "9a5b9570487bc3f0",
        "type": "ui_template",
        "z": "f96f0bccbcf4f98f",
        "group": "d01ed0e343803aa1",
        "name": "Title Iluminação",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\">\n<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\"></script>\n\n<div style=\"padding:7px;background-color:#Ace299; color:black;\">\n        <h2>Iluminação</h2>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 180,
        "y": 600,
        "wires": [
            [
                "ded9797162250d2b"
            ]
        ]
    },
    {
        "id": "ded9797162250d2b",
        "type": "debug",
        "z": "f96f0bccbcf4f98f",
        "name": "debug 58",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 340,
        "y": 600,
        "wires": []
    },
    {
        "id": "550a66888fd5dbbc",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/4/0",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Co2SwitchControl",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 500,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "b8e3ce20fe86e63a",
        "type": "knxUltimate",
        "z": "f96f0bccbcf4f98f",
        "server": "14f79825348d12d4",
        "topic": "0/4/1",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Co2Report",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 100,
        "y": 1480,
        "wires": [
            [
                "683ce5b8bc53b83b"
            ]
        ]
    },
    {
        "id": "a08646b1a067549f",
        "type": "debug",
        "z": "f96f0bccbcf4f98f",
        "name": "debug 86",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 880,
        "y": 1340,
        "wires": []
    },
    {
        "id": "466d72a6aa5d1b1b",
        "type": "debug",
        "z": "f96f0bccbcf4f98f",
        "name": "debug 98",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 1460,
        "wires": []
    },
    {
        "id": "cfb08368406cb19d",
        "type": "ui_numeric",
        "z": "f66a9ff05b26f737",
        "name": "",
        "label": "Ponto de temperatura desejado para o modo atual",
        "tooltip": "",
        "group": "149cdb7c03acd1c5",
        "order": 4,
        "width": "3",
        "height": "2",
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "7",
        "max": "35",
        "step": 1,
        "className": "",
        "x": 690,
        "y": 520,
        "wires": [
            [
                "1cfcbdc795acca99",
                "427e278d9159faf5",
                "197c8e55ad7a2713"
            ]
        ]
    },
    {
        "id": "8beea0e54ab09eaa",
        "type": "ui_switch",
        "z": "f66a9ff05b26f737",
        "name": "",
        "label": "Lamp Switcher 4",
        "tooltip": "",
        "group": "34bfbb627c1b0a89",
        "order": 3,
        "width": "6",
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 770,
        "y": 180,
        "wires": [
            [
                "74c47962b9267373"
            ]
        ]
    },
    {
        "id": "74c47962b9267373",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/0/8",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Switch",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 970,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "1b8244319c1ccf24",
        "type": "ui_template",
        "z": "f66a9ff05b26f737",
        "group": "34bfbb627c1b0a89",
        "name": "Dimming Lamp 4",
        "order": 5,
        "width": "6",
        "height": 1,
        "format": "<div style=\"padding:10px; flex-direction:row; display:flex; flex:1; \">\n    <i class=\"material-icons\" style=\"flex:0.1;padding-left:2px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">light_mode</i>\n    <input style=\"flex:0.7;\" value=\"0\" type=\"range\" ng-init=\"msg.payload=0\" class=\"my-slider\" min=\"0\" max=\"'100'\" step=\"5\" ng-model=\"msg.payload\" ng-change=\"send(msg)\">\n    <p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n        {{msg.payload}}%</p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 570,
        "y": 260,
        "wires": [
            [
                "093efe484d3e7978"
            ]
        ]
    },
    {
        "id": "093efe484d3e7978",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/0/4",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "Dimming",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 760,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "dd346af9835c1910",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/0/14",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "8773913abd3f0a44"
            ]
        ]
    },
    {
        "id": "8773913abd3f0a44",
        "type": "change",
        "z": "f66a9ff05b26f737",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "true",
                "fromt": "bool",
                "to": "1",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "false",
                "fromt": "bool",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 180,
        "wires": [
            [
                "8beea0e54ab09eaa"
            ]
        ]
    },
    {
        "id": "85803f4dc9160122",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/0/13",
        "outputtopic": "",
        "dpt": "5.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 380,
        "y": 260,
        "wires": [
            [
                "1b8244319c1ccf24"
            ]
        ]
    },
    {
        "id": "915c955f252b9124",
        "type": "ui_template",
        "z": "f66a9ff05b26f737",
        "group": "34bfbb627c1b0a89",
        "name": "Title Iluminação",
        "order": 1,
        "width": "6",
        "height": 1,
        "format": "<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\">\n<script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\"></script>\n\n<div style=\"padding:7px;background-color:#Ace299; color:black;\">\n        <h2>Iluminação</h2>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 140,
        "wires": [
            [
                "a7704649852d6263"
            ]
        ]
    },
    {
        "id": "a7704649852d6263",
        "type": "debug",
        "z": "f66a9ff05b26f737",
        "name": "debug 59",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 767,
        "y": 132.74073791503906,
        "wires": []
    },
    {
        "id": "1cfcbdc795acca99",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/2/2",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "SetPointTemperature",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 1150,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "43d15438f01db56a",
        "type": "ui_dropdown",
        "z": "f66a9ff05b26f737",
        "name": "",
        "label": "Modo de Operação",
        "tooltip": "",
        "place": "Select option",
        "group": "149cdb7c03acd1c5",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Noite",
                "value": 4,
                "type": "num"
            },
            {
                "label": "StandBy/Day Off",
                "value": 2,
                "type": "num"
            },
            {
                "label": "Comfort",
                "value": 1,
                "type": "num"
            },
            {
                "label": "Desligado",
                "value": 64,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 610,
        "y": 1000,
        "wires": [
            [
                "dc144da57e632930"
            ]
        ]
    },
    {
        "id": "780a5b830a0d1079",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/2/1",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "RoomInternalTemp",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 330,
        "y": 1440,
        "wires": [
            [
                "7ad5ccdf3d190a13",
                "392f05493c8af05e"
            ]
        ]
    },
    {
        "id": "c3af2529f4b7a247",
        "type": "ui_template",
        "z": "f66a9ff05b26f737",
        "group": "149cdb7c03acd1c5",
        "name": "TemplateHeating",
        "order": 1,
        "width": "0",
        "height": "0",
        "format": "<link rel=\"stylesheet\" href=\"https://pro.fontawesome.com/releases/v6.0.0-beta3/css/all.css\">\n<script src=\"https://cdn.jsdelivr.net/npm/handlebars/dist/handlebars.min.js\"></script>\n</head>\n\n<div style=\"height:200px; \">\n    <div class=\"card-title\" style=\"padding:7px; background-color:#fcb103; color:black; \">\n        <h2>Aquecimento\n            <!-- <span class=\"badge badge-success\">Aberto</span> -->\n        </h2>\n    </div>\n    <div style=\"padding:3px;margin:5px 50px;font-size:15px;\">\n        \n        <!-- \n        <p style=\"font-size:15px;color:white;padding:0;margin:0;\">\n            <b>Temperatura Atual Interna</b>\n        </p>\n        -->\n        <div style=\"color:white;display:flex;\">\n        <!--    <div style=\"padding:2px;flex:0.3;border-radius:12px; border:1px solid grey;  color:black;font-weight:bold;flex-direction:row; \">\n                <p style=\"font-size:30px; color:white; \">{{msg.payload.temp}}ºC</p>\n            --></div>\n            <div style=\"flex-direction:row; padding-left:20px;justify-content:flex-start;align-items:flex-start; display:flex;\">\n                <p style=\"font-weight:bold;font-size:14px;padding-right:5px;\">Modo</p>\n                <h2>{{msg.payload.mode}}</h2>\n            </div>\n            \n        </div>\n        \n        <div style=\"padding-left:15px; font-size:15px; padding-top:5px;justify-content:center;flex-direction:row;align-items:center; display:flex;\">\n            <p style=\"font-size:20px;padding-right:10px; \">{{msg.payload.heating ? \"Aquecendo\" : \"Sem aquecimento\" }} </p>\n            <i class=\"{{msg.payload.iconTemp}}\" style=\"font-size:25px\"></i>\n        </div>\n        \n         \n          \n    </div>\n\n<!--\n<input style=\"flex:0.7;\" type=\"range\" value=\"msg.payload\" ng-model=\"msg.payload\"  class=\"my-slider\" min=\"0\" max=\"100\" step=\"5\" ng-change=\"send(msg)\">\n<p style=\"flex:0.1;padding-left:10px;font-size: 15px;display:flex;flex-direction:center; align-items:center;\">\n    {{msg.payload}}%</p>\n\n</div>\n-->\n<p style=\"font-size:10px;margin-top:15px; padding-left:5px; display:flex; justify-content:start;align-items:end;\">\n    Protecao contra calor(>35ºC) e frio intenso(<7ºC) {{msg.payload.frostHeatStatus}}\n</p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 850,
        "y": 1160,
        "wires": [
            [
                "7be21d067cd99172",
                "ad46b7091431422d"
            ]
        ]
    },
    {
        "id": "d884d0fca128390f",
        "type": "ui_text",
        "z": "f66a9ff05b26f737",
        "group": "149cdb7c03acd1c5",
        "order": 6,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "[Info] Neste modo, por defeito, o ponto ideal é",
        "format": "{{msg.payload.setpoint}}ºC",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 780,
        "y": 1360,
        "wires": []
    },
    {
        "id": "75ecec4ad3facc11",
        "type": "ui_gauge",
        "z": "f66a9ff05b26f737",
        "name": "Temperatura Interna",
        "group": "149cdb7c03acd1c5",
        "order": 3,
        "width": "2",
        "height": "3",
        "gtype": "donut",
        "title": "Temperatura Interna",
        "label": "",
        "format": "{{value}}ºC",
        "min": 0,
        "max": "40",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "15",
        "seg2": "25",
        "diff": false,
        "className": "",
        "x": 700,
        "y": 1480,
        "wires": []
    },
    {
        "id": "56413a4fda5ec44b",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/4/4",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "ReportWorkingHolidayMode",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 320,
        "y": 880,
        "wires": [
            [
                "ac56c8efc7ab6527"
            ]
        ]
    },
    {
        "id": "ac56c8efc7ab6527",
        "type": "change",
        "z": "f66a9ff05b26f737",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "0",
                "fromt": "num",
                "to": "2",
                "tot": "num"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "1",
                "fromt": "num",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "0c28ea98b784086e",
        "type": "api-call-service",
        "z": "f66a9ff05b26f737",
        "name": "Notifications",
        "server": "c4aec609.544728",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_22101316g",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1170,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "67eb54ce8e475d98",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 99",
        "func": "\nvar estado = msg.payload.heating ? \"Aquecimento ON \":\"A quecimento OFF\";\n\nvar msg = {\n    payload: {\n        data: {\n            title: \"[Quarto] \"+estado+\"  , Modo \"+msg.payload.mode+\"   \",\n            message: \"Temperatura a \"+msg.payload.InternalTemp+\"ºC, objetivo: \"+msg.payload.setpointModeDefault+\"ºC \",\n        },\n    },\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1240,
        "wires": [
            [
                "0c28ea98b784086e"
            ]
        ]
    },
    {
        "id": "88df2af53b8b4a9c",
        "type": "switch",
        "z": "f66a9ff05b26f737",
        "name": "",
        "property": "heatingStatus",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "payload.heating",
                "vt": "msg"
            },
            {
                "t": "neq",
                "v": "payload.heating",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 1280,
        "wires": [
            [
                "c3af2529f4b7a247"
            ],
            [
                "c3af2529f4b7a247",
                "4bb7460d1d091fbd"
            ]
        ]
    },
    {
        "id": "7be21d067cd99172",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 100",
        "func": "global.set(\"heatingStatus\", msg.payload.heating);\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "a9cfe2627b8d48dd",
        "type": "debug",
        "z": "f66a9ff05b26f737",
        "name": "debug 76",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 1360,
        "wires": []
    },
    {
        "id": "7ad5ccdf3d190a13",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 101",
        "func": "global.set(\"internalTempRoom\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 1500,
        "wires": [
            [
                "75ecec4ad3facc11"
            ]
        ]
    },
    {
        "id": "4bb7460d1d091fbd",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 102",
        "func": "msg.payload = {\n    ...msg.payload,\n    \"InternalTemp\":global.get(\"internalTempRoom\"),\n\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 1300,
        "wires": [
            [
                "a9cfe2627b8d48dd",
                "67eb54ce8e475d98"
            ]
        ]
    },
    {
        "id": "9dd3e5ba5fe8ae9c",
        "type": "inject",
        "z": "f66a9ff05b26f737",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 390,
        "y": 780,
        "wires": [
            [
                "ac56c8efc7ab6527"
            ]
        ]
    },
    {
        "id": "392f05493c8af05e",
        "type": "debug",
        "z": "f66a9ff05b26f737",
        "name": "debug 81",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 1420,
        "wires": []
    },
    {
        "id": "0296721827b65f15",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/5/1",
        "outputtopic": "",
        "dpt": "9.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "GetSetPointTemperature",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 150,
        "y": 2600,
        "wires": [
            []
        ]
    },
    {
        "id": "dc144da57e632930",
        "type": "switch",
        "z": "f66a9ff05b26f737",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "64",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 830,
        "y": 980,
        "wires": [
            [
                "815584e58728ad70"
            ],
            [
                "0e8b014a10b32747"
            ],
            [
                "f2b21a721fe0e8b6"
            ],
            [
                "32b74269f683efa7"
            ]
        ]
    },
    {
        "id": "815584e58728ad70",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 133",
        "func": "var mode = \"Noite\";\nglobal.set(\"modeRoom\", { mode: \"Noite\", setpoint: 17 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 820,
        "wires": [
            [
                "252a4245864a648b"
            ]
        ]
    },
    {
        "id": "0e8b014a10b32747",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 134",
        "func": "var mode = \"Standby\";\nglobal.set(\"modeRoom\", { mode: \"StandBy\", setpoint: 19 });\nreturn \"\"; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 920,
        "wires": [
            [
                "252a4245864a648b"
            ]
        ]
    },
    {
        "id": "f2b21a721fe0e8b6",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 135",
        "func": "var mode = \"Comforto\";\nglobal.set(\"modeRoom\", { mode: \"Comforto\", setpoint: 21 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 980,
        "wires": [
            [
                "252a4245864a648b"
            ]
        ]
    },
    {
        "id": "32b74269f683efa7",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 136",
        "func": "var mode = \"Desligado\";\nglobal.set(\"modeRoom\", { mode: \"Desligado\", setpoint: 0 });\nreturn \"\";",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 1040,
        "wires": [
            [
                "252a4245864a648b"
            ]
        ]
    },
    {
        "id": "252a4245864a648b",
        "type": "mqtt out",
        "z": "f66a9ff05b26f737",
        "name": "",
        "topic": "Room/Mode",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 1270,
        "y": 880,
        "wires": []
    },
    {
        "id": "8e2483797d2d09e8",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 137",
        "func": "/**var statusDecimal = msg.payload; \n\nfunction decimalToBinary(N) {\n    return (N >>> 0).toString(2);\n}\n\nvar statusBinary = decimalToBinary(statusDecimal);\n\nfunction isBitOn(number, index) {\n    return Boolean(number & (1 << index));\n}\n\nlet comfort = isBitOn(statusBinary, 0);\nlet standby = isBitOn(statusBinary, 1);\nlet night = isBitOn(statusBinary, 2);\nlet heating = isBitOn(statusBinary, 5);\nlet off = isBitOn(statusBinary, 6);\n\nvar mode; \nvar bitMode; \nif (comfort) {\n    mode = \"Comforto\";\n    global.set(\"mode\", { mode: \"comfort\", setpoint: 21 });\n    bitMode = 1;  \n} else if (standby) {\n    mode = \"Standby\";\n    global.set(\"mode\", {mode:\"standBy\", setpoint:19});\n    bitMode = 2;\n} else if (night) {\n    mode = \"Noite\";\n    global.set(\"mode\", { mode: \"night\", setpoint: 17 });\n    bitMode = 4;\n} else if (off){\n    mode = \"Desligado\";\n    global.set(\"mode\", { mode: \"desligado\", setpoint: 0 });\n    bitMode = 64;  \n}\n\nvar iconTemp = heating ? \"fa-light fa-temperature-arrow-up\" : \"fa-light fa-temperature-arrow-down\";\n\nvar modeTxt = {\n    \"mode\":mode,\n    \"heating\":global.get(\"heating\"),\n    \"setpointModeDefault\":global.get(\"setpoint\"),\n    iconTemp,\n    bitMode, \n    \"frostHeatStatus\":global.get(\"frostHeatStatus\")\n}\n\nmsg.payload = modeTxt; \nreturn msg; \n\n**/\nvar mode = global.get(\"modeRoom\");\n \nif (global.get(\"user_setTempRoom\") > mode.setpoint){\n    msg.payload = {\n        \"heating\" : false,\n       \"mode\" : mode.mode,\n       \"setpoint\":mode.setpoint\n    }\n    \n    return msg; \n}else{\n    \n    msg.payload = {\n        \"heating\": true,\n        \"mode\": mode.mode,\n         \"setpoint\":mode.setpoint\n    } \nreturn msg; \n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 1300,
        "wires": [
            [
                "88df2af53b8b4a9c",
                "d884d0fca128390f"
            ]
        ]
    },
    {
        "id": "f8451992cbd53658",
        "type": "mqtt in",
        "z": "f66a9ff05b26f737",
        "name": "",
        "topic": "Room/Mode",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 1220,
        "wires": [
            [
                "8e2483797d2d09e8"
            ]
        ]
    },
    {
        "id": "b629e0aad4599909",
        "type": "mqtt in",
        "z": "f66a9ff05b26f737",
        "name": "",
        "topic": "Room/userTemp",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "818848a85d2a3d51",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 240,
        "y": 1160,
        "wires": [
            [
                "8e2483797d2d09e8"
            ]
        ]
    },
    {
        "id": "ad46b7091431422d",
        "type": "switch",
        "z": "f66a9ff05b26f737",
        "name": "",
        "property": "payload.heating",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 1100,
        "wires": [
            [
                "259c1e58a06e6562"
            ],
            [
                "cb519667db29a135"
            ]
        ]
    },
    {
        "id": "e3ec381eb00392ae",
        "type": "knxUltimate",
        "z": "f66a9ff05b26f737",
        "server": "14f79825348d12d4",
        "topic": "0/2/5",
        "outputtopic": "",
        "dpt": "1.001",
        "initialread": 0,
        "notifyreadrequest": false,
        "notifyresponse": false,
        "notifywrite": true,
        "notifyreadrequestalsorespondtobus": false,
        "notifyreadrequestalsorespondtobusdefaultvalueifnotinitialized": "0",
        "listenallga": false,
        "name": "openValve6",
        "outputtype": "write",
        "outputRBE": "true",
        "inputRBE": "false",
        "formatmultiplyvalue": 1,
        "formatnegativevalue": "leave",
        "formatdecimalsvalue": 999,
        "passthrough": "no",
        "x": 1510,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "cb519667db29a135",
        "type": "change",
        "z": "f66a9ff05b26f737",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 1120,
        "wires": [
            [
                "e3ec381eb00392ae"
            ]
        ]
    },
    {
        "id": "259c1e58a06e6562",
        "type": "change",
        "z": "f66a9ff05b26f737",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 1180,
        "wires": [
            [
                "e3ec381eb00392ae"
            ]
        ]
    },
    {
        "id": "427e278d9159faf5",
        "type": "mqtt out",
        "z": "f66a9ff05b26f737",
        "name": "",
        "topic": "Room/userTemp",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "818848a85d2a3d51",
        "x": 1120,
        "y": 480,
        "wires": []
    },
    {
        "id": "197c8e55ad7a2713",
        "type": "function",
        "z": "f66a9ff05b26f737",
        "name": "function 138",
        "func": "global.set(\"user_setTempRoom\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 380,
        "wires": [
            []
        ]
    }
]